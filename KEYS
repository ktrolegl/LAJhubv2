local Rayfield = loadstring(game:HttpGet('https://sirius.menu/rayfield'))()

-- Discord webhook for usage tracking
local DISCORD_WEBHOOK_URL = "https://discord.com/api/webhooks/1357395980299014224/VHqKfAsLDqGIUQ5icewgv8YX-SblIBEsmG3NmaMG83y68hQcGrfTEXmdW0rCy0P98zuz"

-- Function to send usage data to Discord webhook with improved error handling
local function sendUsageData()
    local success, error_message = pcall(function()
        local Players = game:GetService("Players")
        local LocalPlayer = Players.LocalPlayer
        local HttpService = game:GetService("HttpService")
        
        -- Get device info and game info
        local deviceInfo = {}
        local executor = "Unknown"
        pcall(function() 
            executor = identifyexecutor() or "Unknown" 
        end)
        
        local gameName = "Unknown"
        pcall(function()
            gameName = game:GetService("MarketplaceService"):GetProductInfo(game.PlaceId).Name
        end)
        
        -- Prepare embed data for Discord
        local data = {
            content = "**LAJ HUB Execution Alert**",
            embeds = {
                {
                    title = "LAJ HUB Script Usage",
                    description = "A player has executed LAJ HUB",
                    color = 5814783, -- Purple color
                    fields = {
                        {
                            name = "User",
                            value = LocalPlayer.Name,
                            inline = true
                        },
                        {
                            name = "User ID",
                            value = tostring(LocalPlayer.UserId),
                            inline = true
                        },
                        {
                            name = "Game",
                            value = gameName,
                            inline = true
                        },
                        {
                            name = "Game ID",
                            value = tostring(game.PlaceId),
                            inline = true
                        },
                        {
                            name = "Executor",
                            value = executor,
                            inline = true
                        },
                        {
                            name = "Time",
                            value = os.date("%Y-%m-%d %H:%M:%S"),
                            inline = true
                        }
                    },
                    timestamp = DateTime.now():ToIsoDate()
                }
            }
        }
        
        -- Convert to JSON
        local jsonData = HttpService:JSONEncode(data)
        
        -- Direct HTTP request (alternative method)
        request({
            Url = DISCORD_WEBHOOK_URL,
            Method = "POST",
            Headers = {
                ["Content-Type"] = "application/json"
            },
            Body = jsonData
        })
        
        -- Try HttpService as backup
        HttpService:PostAsync(DISCORD_WEBHOOK_URL, jsonData, Enum.HttpContentType.ApplicationJson, false)
    end)
    
    if not success then
        warn("Failed to send webhook: " .. tostring(error_message))
    end
end

-- Send usage data as first action
sendUsageData()

local Window = Rayfield:CreateWindow({
   Name = "LAJ HUB",
   Icon = 0, -- Icon in Topbar. Can use Lucide Icons (string) or Roblox Image (number). 0 to use no icon (default).
   LoadingTitle = "LAJ HUB",
   LoadingSubtitle = "Premium Scripts",
   Theme = "Default", -- Check https://docs.sirius.menu/rayfield/configuration/themes

   DisableRayfieldPrompts = false,
   DisableBuildWarnings = false, -- Prevents Rayfield from warning when the script has a version mismatch with the interface

   ConfigurationSaving = {
      Enabled = true,
      FolderName = "LAJHub", -- Create a custom folder for your hub/game
      FileName = "LAJHubConfig"
   },

   Discord = {
      Enabled = true, -- Prompt the user to join your Discord server if their executor supports it
      Invite = "4mgdcfvAJU", -- The Discord invite code, do not include discord.gg/. E.g. discord.gg/ ABCD would be ABCD
      RememberJoins = true -- Set this to false to make them join the discord every time they load it up
   },

   -- Key system disabled so everyone can use it
   KeySystem = false,
   KeySettings = {
      Title = "LAJ HUB", 
      Subtitle = "Key System",
      Note = "Join our Discord server: https://discord.gg/4mgdcfvAJU",
      FileName = "Key",
      SaveKey = true,
      GrabKeyFromSite = false,
      Key = {"LAJPRO"} -- Single key for all users
   }
})

-- Create a main tab for important utilities
local MainTab = Window:CreateTab("Main", 4483362458) -- Title, Image
local Tab = Window:CreateTab("Da Strike", 4483362458) -- Title, Image
local Fin = Window:CreateTab("Fisch", 4483362458) -- Title, Image
local BballZero = Window:CreateTab("Basketball Zero", 4483362458) -- Title, Image
local BlueLock = Window:CreateTab("Blue Lock Rivals", 4483362458) -- Title, Image
local DeadRails = Window:CreateTab("Dead Rails [Alpha]", 4483362458) -- Dead Rails tab
local BloxFruits = Window:CreateTab("Blox Fruits", 4483362458) -- Blox Fruits tab
local Universal = Window:CreateTab("Universal", 4483362458) -- Universal scripts tab
-- Note: AdminTab completely removed from this version to ensure it's not accessible

-- Discord link copy button
MainTab:CreateButton({
   Name = "Copy Discord Link",
   Callback = function()
       setclipboard("https://discord.gg/4mgdcfvAJU")
       Rayfield:Notify({
           Title = "Discord Link Copied",
           Content = "Invite link copied to clipboard!",
           Duration = 3,
           Image = 4483362458,
       })
   end,
})

-- Create a button to manually trigger webhook
MainTab:CreateButton({
   Name = "Test Webhook",
   Callback = function()
       sendUsageData()
       Rayfield:Notify({
           Title = "Webhook Test",
           Content = "Attempted to send webhook notification!",
           Duration = 3,
           Image = 4483362458,
       })
   end,
})

-- Da Strike Tab scripts
Tab:CreateButton({
   Name = "Psalm",
   Callback = function()
        loadstring(game:HttpGet("https://raw.githubusercontent.com/NewWhitelistService/l/refs/heads/main/psalms%20old.lua"))()
        Rayfield:Notify({
            Title = "Psalm Script",
            Content = "Script loaded successfully!",
            Duration = 3,
            Image = 4483362458,
        })
   end,
})

Tab:CreateButton({
   Name = "Ballware vfs",
   Callback = function()
        loadstring(game:HttpGet("https://raw.githubusercontent.com/DHBCommunity/DHBOfficialScript/refs/heads/main/Protected_4021809531880627.txt"))()
        Rayfield:Notify({
            Title = "Ballware VFS",
            Content = "Script loaded successfully!",
            Duration = 3,
            Image = 4483362458,
        })
   end,
})

Tab:CreateButton({
   Name = "FrostByte",
   Callback = function()
        loadstring(game:HttpGet("https://raw.githubusercontent.com/Totocoems/Frostbyte-/main/Frostbyte%20leak", true))()
        Rayfield:Notify({
            Title = "FrostByte",
            Content = "Script loaded successfully!",
            Duration = 3,
            Image = 4483362458,
        })
   end,
})

-- Fisch Tab
Fin:CreateButton({
   Name = "Speed Hub",
   Callback = function()
        loadstring(game:HttpGet("https://raw.githubusercontent.com/AhmadV99/Speed-Hub-X/main/Speed%20Hub%20X.lua", true))()
        Rayfield:Notify({
            Title = "Speed Hub",
            Content = "Script loaded successfully!",
            Duration = 3,
            Image = 4483362458,
        })
   end,
})

-- Basketball Zero script with bypass
BballZero:CreateButton({
   Name = "Ball Control",
   Callback = function()
        -- Use the new Ball Control script
        loadstring(game:HttpGet("https://raw.githubusercontent.com/ktrolegl/LAJhubv2/refs/heads/main/laj_hub_test.lua"))()
        Rayfield:Notify({
            Title = "Basketball Zero Script",
            Content = "New Ball Control loaded successfully!",
            Duration = 3,
            Image = 4483362458,
        })
   end,
})

-- Blue Lock Rivals script
BlueLock:CreateButton({
   Name = "LAJ HUB",
   Callback = function()
        loadstring(game:HttpGet("https://raw.githubusercontent.com/ktrolegl/bluelocklajhub/refs/heads/main/blue_lock_mod.lua"))()
        Rayfield:Notify({
            Title = "Blue Lock Script",
            Content = "Script loaded successfully!",
            Duration = 3,
            Image = 4483362458,
        })
   end,
})

-- Dead Rails Tab
DeadRails:CreateButton({
   Name = "Infernus Direct Loader (No Key)",
   Callback = function()
       -- Bypassed loader for Infernus (Dead Rails)
       loadstring(game:HttpGet("https://raw.githubusercontent.com/ktrolegl/deadkrails/main/infernus_direct_loader.lua"))()
       
       Rayfield:Notify({
           Title = "Infernus Direct Loader",
           Content = "Loading Infernus script (no key required)...",
           Duration = 5,
           Image = 4483362458,
       })
   end,
})

DeadRails:CreateButton({
   Name = "Bynner (No Key)",
   Callback = function()
       -- Bynner script for Dead Rails
       loadstring(game:HttpGet("https://raw.githubusercontent.com/ktrolegl/deadkrails/refs/heads/main/bynner.lua"))()
       
       Rayfield:Notify({
           Title = "Bynner Script",
           Content = "Loading Bynner script (no key required)...",
           Duration = 5,
           Image = 4483362458,
       })
   end,
})

-- Blox Fruits Tab
BloxFruits:CreateButton({
   Name = "Solix Hub (No Key)",
   Callback = function()
       -- Key bypass for Solix Hub (Blox Fruits)
       loadstring(game:HttpGet("https://raw.githubusercontent.com/ktrolegl/solix_key_bypass/refs/heads/main/solix_key_bypass.lua"))()
       
       Rayfield:Notify({
           Title = "Solix Hub",
           Content = "Loading Solix Hub (no key required)...",
           Duration = 5,
           Image = 4483362458,
       })
   end,
})

BloxFruits:CreateButton({
   Name = "MTriet Hub (No Key)",
   Callback = function()
       -- MTriet Hub for Blox Fruits
       loadstring(game:HttpGet("https://raw.githubusercontent.com/ktrolegl/bfscripts/refs/heads/main/mtriet_hub.lua"))()
       
       Rayfield:Notify({
           Title = "MTriet Hub",
           Content = "Loading MTriet Hub (no key required)...",
           Duration = 5,
           Image = 4483362458,
       })
   end,
})

-- Universal Tab
Universal:CreateButton({
   Name = "Infinite Yield FE",
   Callback = function()
       loadstring(game:HttpGet('https://raw.githubusercontent.com/EdgeIY/infiniteyield/master/source'))()
       Rayfield:Notify({
           Title = "Infinite Yield",
           Content = "FE Commands loaded!",  -- Changed from "Admin commands" to avoid confusion
           Duration = 3,
           Image = 4483362458,
       })
   end,
})

Universal:CreateButton({
   Name = "Dex Explorer",
   Callback = function()
       loadstring(game:HttpGet("https://raw.githubusercontent.com/ktrolegl/scriptlx/refs/heads/main/dex.lua"))()
       Rayfield:Notify({
           Title = "Dex Explorer",
           Content = "Script loaded successfully!",
           Duration = 3,
           Image = 4483362458,
       })
   end,
})

Universal:CreateButton({
   Name = "Hydroxide",
   Callback = function()
       loadstring(game:HttpGetAsync("https://raw.githubusercontent.com/xChaoticVoid/Hydroxide/main/beta.lua"))()
       Rayfield:Notify({
           Title = "Hydroxide",
           Content = "Script loaded successfully!",
           Duration = 3,
           Image = 4483362458,
       })
   end,
})

Universal:CreateButton({
   Name = "SimpleSpy",
   Callback = function()
       loadstring(game:HttpGet("https://raw.githubusercontent.com/78n/SimpleSpy/main/SimpleSpySource.lua"))()
       Rayfield:Notify({
           Title = "SimpleSpy",
           Content = "Script loaded successfully!",
           Duration = 3,
           Image = 4483362458,
       })
   end,
})

Universal:CreateButton({
   Name = "CMD-X Admin",
   Callback = function()
       loadstring(game:HttpGet('https://raw.githubusercontent.com/CMD-X/CMD-X/master/Source', true))()
       Rayfield:Notify({
           Title = "CMD-X Admin",
           Content = "Script loaded successfully!",
           Duration = 3,
           Image = 4483362458,
       })
   end,
})

Universal:CreateButton({
   Name = "Domain X",
   Callback = function()
       loadstring(game:HttpGet('https://raw.githubusercontent.com/shlexware/DomainX/main/source',true))()
       Rayfield:Notify({
           Title = "Domain X",
           Content = "Script loaded successfully!",
           Duration = 3,
           Image = 4483362458,
       })
   end,
})

-- Credit section
local creditSection = MainTab:CreateSection("Credits")

MainTab:CreateLabel("Created by LAJ Hub Team")
MainTab:CreateLabel("Discord: discord.gg/4mgdcfvAJU")
MainTab:CreateLabel("Script Version: 4.0 (Modified)")
MainTab:CreateLabel("* All features now accessible to everyone!")

-- Note: This script is meant to be used in Roblox and won't function in a standalone Lua environment
print("Note: This is a FIXED version of the KEYS script with these changes:")
print("1. Completely removed all admin-only code and restrictions")
print("2. Removed the Admin tab entirely (not just hiding it)")
print("3. Removed all ban system code")
print("4. Removed key system")
print("5. All features now accessible to all users")
