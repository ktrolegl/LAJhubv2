-- LAJ HUB - Advanced Roblox Exploit Script Hub
-- Version 2.0

-- Initialize UI Library
local Rayfield = loadstring(game:HttpGet('https://sirius.menu/rayfield'))()

-- Utility Functions
local Utilities = {}

-- Error Handling
Utilities.LoadScript = function(url, name)
    local success, result = pcall(function()
        return loadstring(game:HttpGet(url))()
    end)
    
    if success then
        Rayfield:Notify({
            Title = "Script Loaded",
            Content = name .. " was successfully executed",
            Duration = 3,
            Image = 4483362458
        })
        return true
    else
        Rayfield:Notify({
            Title = "Error",
            Content = "Failed to load " .. name .. ": " .. tostring(result),
            Duration = 5,
            Image = 4483362458
        })
        return false
    end
end

-- Game Detection
Utilities.GetCurrentGame = function()
    local gameIds = {
        ["Da Hood"] = 2788229376,
        ["Phantom Forces"] = 292439477,
        ["Arsenal"] = 286090429,
        ["Blox Fruits"] = 2753915549,
        ["Prison Life"] = 155615604,
        ["Fishing Simulator"] = 2866967438,
        ["Jailbreak"] = 606849621,
        ["Adopt Me"] = 920587237
    }
    
    local currentGameId = game.PlaceId
    
    for name, id in pairs(gameIds) do
        if currentGameId == id then
            return name
        end
    end
    
    return "Universal"
end

-- Save/Load Settings
Utilities.SaveSettings = function(settings)
    if writefile then
        writefile("LAJHub_Settings.json", game:GetService("HttpService"):JSONEncode(settings))
    end
end

Utilities.LoadSettings = function()
    if readfile and isfile and isfile("LAJHub_Settings.json") then
        return game:GetService("HttpService"):JSONDecode(readfile("LAJHub_Settings.json"))
    end
    return {}
end

-- Create Settings object
local Settings = Utilities.LoadSettings() or {}
Settings.Theme = Settings.Theme or "Default"
Settings.AutoExecute = Settings.AutoExecute or {}

-- Create Window
local Window = Rayfield:CreateWindow({
    Name = "LAJ HUB PREMIUM",
    LoadingTitle = "LAJ HUB",
    LoadingSubtitle = "by LAJ Team",
    ConfigurationSaving = {
        Enabled = true,
        FolderName = "LAJHub",
        FileName = "Configuration"
    },
    Discord = {
        Enabled = true,
        Invite = "lajhubcommunity",
        RememberJoins = true
    },
    KeySystem = true,
    KeySettings = {
        Title = "LAJ HUB PREMIUM",
        Subtitle = "Key Authentication",
        Note = "Join our Discord for key: discord.gg/lajhubcommunity",
        FileName = "LAJHubKey",
        SaveKey = true,
        GrabKeyFromSite = false,
        Key = {
            "3W319,4RY20RI,2US82,19RI99", -- Original key
            "LAJHUB-PREMIUM-ACCESS",
            "LAJ-2023-VIP",
            "ROBLOX-EXPLOITS-PREMIUM"
        }
    },
    Theme = Settings.Theme
})

-- Create Main Tabs
local DashboardTab = Window:CreateTab("Dashboard", 4483362458)
local UniversalTab = Window:CreateTab("Universal", 4483362458)
local PopularTab = Window:CreateTab("Popular Games", 4483362458)
local PremiumTab = Window:CreateTab("Premium Scripts", 4483362458)
local SettingsTab = Window:CreateTab("Settings", 4483362458)

-- Dashboard Tab Content
DashboardTab:CreateSection("Welcome to LAJ HUB PREMIUM")

DashboardTab:CreateLabel("Current Game: " .. Utilities.GetCurrentGame())
DashboardTab:CreateLabel("Version: 2.0 Premium")

DashboardTab:CreateParagraph({
    Title = "Information",
    Content = "LAJ HUB PREMIUM offers high-quality Roblox exploits organized by game category. Navigate through the tabs to find scripts for specific games or universal exploits that work across Roblox."
})

local GameSpecificSection = DashboardTab:CreateSection("Game-Specific Scripts Available")

-- Check if current game has dedicated scripts
if Utilities.GetCurrentGame() ~= "Universal" then
    DashboardTab:CreateButton({
        Name = "Load Scripts for " .. Utilities.GetCurrentGame(),
        Callback = function()
            -- Auto-navigate to the appropriate tab based on game detection
            if Utilities.GetCurrentGame() == "Da Hood" or Utilities.GetCurrentGame() == "Arsenal" or 
               Utilities.GetCurrentGame() == "Blox Fruits" or Utilities.GetCurrentGame() == "Phantom Forces" then
                PopularTab:Select()
            else
                UniversalTab:Select()
            end
            
            Rayfield:Notify({
                Title = "Navigation",
                Content = "Navigated to scripts for " .. Utilities.GetCurrentGame(),
                Duration = 3,
            })
        end,
    })
end

-- Universal Scripts Tab
UniversalTab:CreateSection("Universal Exploits")

UniversalTab:CreateButton({
    Name = "Infinite Yield",
    Callback = function()
        Utilities.LoadScript("https://raw.githubusercontent.com/EdgeIY/infiniteyield/master/source", "Infinite Yield")
    end,
})

UniversalTab:CreateButton({
    Name = "Domain X",
    Callback = function()
        Utilities.LoadScript("https://raw.githubusercontent.com/shlexware/DomainX/main/source", "Domain X")
    end,
})

UniversalTab:CreateButton({
    Name = "CMD-X Admin",
    Callback = function()
        Utilities.LoadScript("https://raw.githubusercontent.com/CMD-X/CMD-X/master/Source", "CMD-X Admin")
    end,
})

-- Da Strike Section (from original script)
UniversalTab:CreateSection("Da Strike")

UniversalTab:CreateButton({
    Name = "Psalm",
    Callback = function()
        Utilities.LoadScript("https://raw.githubusercontent.com/NewWhitelistService/l/refs/heads/main/psalms%20old.lua", "Psalm")
    end,
})

UniversalTab:CreateButton({
    Name = "Ballware vfs",
    Callback = function()
        Utilities.LoadScript("https://raw.githubusercontent.com/DHBCommunity/DHBOfficialScript/refs/heads/main/Protected_4021809531880627.txt", "Ballware vfs")
    end,
})

UniversalTab:CreateButton({
    Name = "FrostByte",
    Callback = function()
        Utilities.LoadScript("https://raw.githubusercontent.com/Totocoems/Frostbyte-/main/Frostbyte%20leak", "FrostByte")
    end,
})

-- Fishing Scripts Section (from original script)
UniversalTab:CreateSection("Fishing")

UniversalTab:CreateButton({
    Name = "Ronix",
    Callback = function()
        Utilities.LoadScript("https://api.luarmor.net/files/v3/loaders/a3c501e721ec4d66a864cc2276c0f4e9.lua", "Ronix")
    end,
})

UniversalTab:CreateButton({
    Name = "Speed Hub",
    Callback = function()
        Utilities.LoadScript("https://raw.githubusercontent.com/AhmadV99/Speed-Hub-X/main/Speed%20Hub%20X.lua", "Speed Hub")
    end,
})

-- Popular Games Tab
-- Da Hood Section
local DaHoodSection = PopularTab:CreateSection("Da Hood")

PopularTab:CreateButton({
    Name = "Vortex Hub",
    Callback = function()
        Utilities.LoadScript("https://raw.githubusercontent.com/ImagineProxy/vortex/main/main", "Vortex Hub")
    end,
})

PopularTab:CreateButton({
    Name = "Ray X",
    Callback = function()
        Utilities.LoadScript("https://raw.githubusercontent.com/SpaceYes/Lua/Main/DaHood.Lua", "Ray X")
    end,
})

PopularTab:CreateButton({
    Name = "Swag Mode",
    Callback = function()
        Utilities.LoadScript("https://raw.githubusercontent.com/lerkermer/lua-projects/master/SwagModeV002", "Swag Mode")
    end,
})

-- Arsenal Section
local ArsenalSection = PopularTab:CreateSection("Arsenal")

PopularTab:CreateButton({
    Name = "Dark Hub",
    Callback = function()
        Utilities.LoadScript("https://darkhub.xyz/remote-script.lua", "Dark Hub")
    end,
})

PopularTab:CreateButton({
    Name = "Owl Hub",
    Callback = function()
        Utilities.LoadScript("https://raw.githubusercontent.com/CriShoux/OwlHub/master/OwlHub.txt", "Owl Hub")
    end,
})

-- Blox Fruits Section
local BloxFruitsSection = PopularTab:CreateSection("Blox Fruits")

PopularTab:CreateButton({
    Name = "Mukuro Hub",
    Callback = function()
        Utilities.LoadScript("https://raw.githubusercontent.com/xQuartyx/DonateMe/main/ScriptLoader", "Mukuro Hub")
    end,
})

PopularTab:CreateButton({
    Name = "Ripper Hub",
    Callback = function()
        Utilities.LoadScript("https://raw.githubusercontent.com/hajibeza/RIPPER-HUB/main/BF.lua", "Ripper Hub")
    end,
})

PopularTab:CreateButton({
    Name = "Hoho Hub",
    Callback = function()
        Utilities.LoadScript("https://raw.githubusercontent.com/acsu123/HOHO_H/main/Loading_UI", "Hoho Hub")
    end,
})

-- Phantom Forces Section
local PhantomForcesSection = PopularTab:CreateSection("Phantom Forces")

PopularTab:CreateButton({
    Name = "Strucid Silent Aim",
    Callback = function()
        Utilities.LoadScript("https://raw.githubusercontent.com/VoidMasterX/strawhook/main/script.lua", "Strucid Silent Aim")
    end,
})

PopularTab:CreateButton({
    Name = "GOODWILL",
    Callback = function()
        Utilities.LoadScript("https://raw.githubusercontent.com/Stefanuk12/ROBLOX/master/Games/Phantom%20Forces/GOODWILL", "GOODWILL")
    end,
})

-- Premium Scripts Tab
PremiumTab:CreateSection("Premium Exploits")

PremiumTab:CreateParagraph({
    Title = "Premium Access",
    Content = "These high-quality scripts are available exclusively for premium members. They offer advanced features and optimized performance for the best exploiting experience."
})

PremiumTab:CreateButton({
    Name = "LAJ Auto Farm Suite",
    Callback = function()
        Utilities.LoadScript("https://raw.githubusercontent.com/LAJHubPremium/scripts/main/autofarm", "LAJ Auto Farm Suite")
    end,
})

PremiumTab:CreateButton({
    Name = "LAJ Silent Aim (Universal)",
    Callback = function()
        Utilities.LoadScript("https://raw.githubusercontent.com/LAJHubPremium/scripts/main/silentaim", "LAJ Silent Aim")
    end,
})

PremiumTab:CreateButton({
    Name = "LAJ ESP & Wallhack",
    Callback = function()
        Utilities.LoadScript("https://raw.githubusercontent.com/LAJHubPremium/scripts/main/espwallhack", "LAJ ESP & Wallhack")
    end,
})

PremiumTab:CreateButton({
    Name = "LAJ Teleport Suite",
    Callback = function()
        Utilities.LoadScript("https://raw.githubusercontent.com/LAJHubPremium/scripts/main/teleport", "LAJ Teleport Suite")
    end,
})

-- Settings Tab
SettingsTab:CreateSection("Interface Settings")

-- Theme Selector
local ThemeDropdown = SettingsTab:CreateDropdown({
    Name = "Theme",
    Options = {"Default", "Light", "Dark", "Midnight", "Sentinel", "Synapse"},
    CurrentOption = Settings.Theme,
    Flag = "ThemeOption",
    Callback = function(Value)
        Settings.Theme = Value
        Utilities.SaveSettings(Settings)
        Rayfield:Notify({
            Title = "Theme Changed",
            Content = "Restart the script to apply the new theme",
            Duration = 3,
        })
    end,
})

-- Auto Execute Settings
SettingsTab:CreateSection("Auto Execute")

SettingsTab:CreateToggle({
    Name = "Auto Execute Infinite Yield",
    CurrentValue = Settings.AutoExecute.InfiniteYield or false,
    Flag = "AutoInfiniteYield",
    Callback = function(Value)
        Settings.AutoExecute.InfiniteYield = Value
        Utilities.SaveSettings(Settings)
    end,
})

SettingsTab:CreateToggle({
    Name = "Auto Execute ESP",
    CurrentValue = Settings.AutoExecute.ESP or false,
    Flag = "AutoESP",
    Callback = function(Value)
        Settings.AutoExecute.ESP = Value
        Utilities.SaveSettings(Settings)
    end,
})

-- Credits Section
SettingsTab:CreateSection("Credits")

SettingsTab:CreateParagraph({
    Title = "LAJ HUB PREMIUM",
    Content = "Developed by the LAJ Team\nVersion 2.0\nThanks for using LAJ HUB PREMIUM!"
})

SettingsTab:CreateButton({
    Name = "Join Discord",
    Callback = function()
        setclipboard("discord.gg/lajhubcommunity")
        Rayfield:Notify({
            Title = "Discord Invite",
            Content = "Discord invite link copied to clipboard!",
            Duration = 3,
        })
    end,
})

-- Auto Execute Logic
if Settings.AutoExecute.InfiniteYield then
    Utilities.LoadScript("https://raw.githubusercontent.com/EdgeIY/infiniteyield/master/source", "Infinite Yield (Auto)")
end

if Settings.AutoExecute.ESP then
    Utilities.LoadScript("https://raw.githubusercontent.com/LAJHubPremium/scripts/main/espwallhack", "ESP (Auto)")
end

-- Select appropriate tab based on game
local currentGame = Utilities.GetCurrentGame()
if currentGame ~= "Universal" then
    PopularTab:Select()
else
    DashboardTab:Select()
end

Rayfield:LoadConfiguration()
