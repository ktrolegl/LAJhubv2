--[[
    LAJ HUB MOBILE
    A mobile-optimized UI for Roblox exploits
    
    Features:
    - Touch-friendly controls
    - Compact design
    - Optimized for smaller screens
    - Simplified but stylish interface
]]

-- Services
local Players = game:GetService("Players")
local TweenService = game:GetService("TweenService")
local CoreGui = game:GetService("CoreGui")
local UserInputService = game:GetService("UserInputService")

local LocalPlayer = Players.LocalPlayer

-- Colors
local Colors = {
    Background = Color3.fromRGB(15, 15, 25),       -- Dark background
    Secondary = Color3.fromRGB(20, 20, 30),        -- Slightly lighter
    Primary = Color3.fromRGB(0, 170, 255),         -- Bright blue
    PrimaryDark = Color3.fromRGB(0, 120, 210),     -- Darker blue
    Accent = Color3.fromRGB(255, 50, 120),         -- Pink accent
    Text = Color3.fromRGB(240, 240, 255),          -- White text
    TextDark = Color3.fromRGB(170, 170, 200),      -- Gray text
    Success = Color3.fromRGB(50, 200, 100),        -- Green
    Error = Color3.fromRGB(230, 50, 50)            -- Red
}

-- UI Parameters
local UI = {
    Width = 420,       -- Mobile width (increased size)
    Height = 330,      -- Mobile height (increased size)
    Corner = 6,        -- Rounded corners
    ButtonHeight = 40, -- Button height for touch (increased)
    IconSize = 24,     -- Icon size (increased)
    Padding = 12       -- Standard padding (increased)
}

-- Animation Settings
local Anim = {
    Short = TweenInfo.new(0.15, Enum.EasingStyle.Quad),
    Normal = TweenInfo.new(0.25, Enum.EasingStyle.Quad)
}

-- Helper functions
local function Create(className, properties)
    local instance = Instance.new(className)
    for prop, value in pairs(properties or {}) do
        instance[prop] = value
    end
    return instance
end

local function Round(instance, radius)
    Create("UICorner", {
        CornerRadius = UDim.new(0, radius or UI.Corner),
        Parent = instance
    })
    return instance
end

local function Tween(instance, tweenInfo, properties)
    local tween = TweenService:Create(instance, tweenInfo, properties)
    tween:Play()
    return tween
end

-- Main UI Class
local LAJHub = {}
LAJHub.__index = LAJHub

function LAJHub.new()
    local self = setmetatable({}, LAJHub)
    
    -- Create ScreenGui
    self.GUI = Create("ScreenGui", {
        Name = "LAJHubMobile",
        ResetOnSpawn = false,
        ZIndexBehavior = Enum.ZIndexBehavior.Sibling,
        IgnoreGuiInset = true
    })
    
    -- Try to parent to CoreGui
    pcall(function() self.GUI.Parent = CoreGui end)
    if not self.GUI.Parent then
        self.GUI.Parent = LocalPlayer:WaitForChild("PlayerGui")
    end
    
    -- Create overlay (handles touches outside the UI)
    self.Overlay = Create("Frame", {
        Name = "Overlay",
        BackgroundColor3 = Color3.fromRGB(0, 0, 0),
        BackgroundTransparency = 1,
        Size = UDim2.new(1, 0, 1, 0),
        Parent = self.GUI
    })
    Tween(self.Overlay, Anim.Normal, {BackgroundTransparency = 0.5})
    
    -- Close when clicked outside
    self.Overlay.InputBegan:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseButton1 or
           input.UserInputType == Enum.UserInputType.Touch then
            self:Close()
        end
    end)
    
    -- Container for centered UI
    self.Container = Create("Frame", {
        Name = "Container",
        AnchorPoint = Vector2.new(0.5, 0.5),
        BackgroundTransparency = 1,
        Position = UDim2.new(0.5, 0, 0.5, 0),
        Size = UDim2.new(1, 0, 1, 0),
        Parent = self.GUI
    })
    
    -- Main Frame
    self.Main = Create("Frame", {
        Name = "Main",
        AnchorPoint = Vector2.new(0.5, 0.5),
        BackgroundColor3 = Colors.Background,
        BorderSizePixel = 0,
        Position = UDim2.new(0.5, 0, 0.5, 0),
        Size = UDim2.new(0, 0, 0, 0), -- Start small for animation
        Parent = self.Container
    })
    Round(self.Main)
    
    -- Shadow effect
    Create("ImageLabel", {
        Name = "Shadow",
        BackgroundTransparency = 1,
        Image = "rbxassetid://6014261993",
        ImageColor3 = Color3.fromRGB(0, 0, 0),
        ImageTransparency = 0.5,
        Position = UDim2.new(0, -15, 0, -15),
        Size = UDim2.new(1, 30, 1, 30),
        ZIndex = -1,
        Parent = self.Main
    })
    
    -- Create UI Components
    self:CreateTopBar()
    self:CreateTabButtons()
    self:CreateContent()
    
    -- Opening animation
    Tween(self.Main, Anim.Normal, {
        Size = UDim2.new(0, UI.Width, 0, UI.Height)
    }).Completed:Connect(function()
        self:SwitchTab("Home")
        self:ShowNotification("Ready", "LAJ Hub Mobile loaded!")
    end)
    
    -- Make draggable for devices that support it
    self:MakeDraggable()
    
    -- Track current tab
    self.ActiveTab = nil
    
    return self
end

-- Create top bar
function LAJHub:CreateTopBar()
    self.TopBar = Create("Frame", {
        Name = "TopBar",
        BackgroundColor3 = Colors.Secondary,
        Size = UDim2.new(1, 0, 0, 36), -- Taller for touch targets
        Parent = self.Main
    })
    Round(self.TopBar)
    
    -- Fix bottom corners
    Create("Frame", {
        BackgroundColor3 = Colors.Secondary,
        BorderSizePixel = 0,
        Position = UDim2.new(0, 0, 1, -UI.Corner),
        Size = UDim2.new(1, 0, 0, UI.Corner),
        Parent = self.TopBar
    })
    
    -- Title label
    self.Title = Create("TextLabel", {
        Name = "Title",
        BackgroundTransparency = 1,
        Position = UDim2.new(0, UI.Padding, 0, 0),
        Size = UDim2.new(1, -60, 1, 0),
        Font = Enum.Font.GothamBold,
        Text = "LAJ HUB",
        TextColor3 = Colors.Text,
        TextSize = 16,
        TextXAlignment = Enum.TextXAlignment.Left,
        Parent = self.TopBar
    })
    
    -- Close button (larger for touch)
    self.CloseButton = Create("TextButton", {
        Name = "CloseButton",
        BackgroundTransparency = 1,
        Position = UDim2.new(1, -36, 0, 0),
        Size = UDim2.new(0, 36, 1, 0),
        Font = Enum.Font.GothamBold,
        Text = "âœ•",
        TextColor3 = Colors.Text,
        TextSize = 18,
        Parent = self.TopBar
    })
    
    -- Close button effects
    self.CloseButton.MouseEnter:Connect(function()
        Tween(self.CloseButton, Anim.Short, {TextColor3 = Colors.Error})
    end)
    
    self.CloseButton.MouseLeave:Connect(function()
        Tween(self.CloseButton, Anim.Short, {TextColor3 = Colors.Text})
    end)
    
    -- Close function
    self.CloseButton.MouseButton1Click:Connect(function()
        self:Close()
    end)
end

-- Create tab buttons
function LAJHub:CreateTabButtons()
    -- Tab container
    self.TabsContainer = Create("Frame", {
        Name = "TabsContainer",
        BackgroundColor3 = Colors.Secondary,
        Position = UDim2.new(0, 0, 0, 36),
        Size = UDim2.new(1, 0, 0, 40),
        Parent = self.Main
    })
    
    -- Create tab buttons
    self.TabButtons = {}
    
    -- Tab data
    local tabs = {
        {name = "Home", icon = "rbxassetid://7733960981"},
        {name = "Games", icon = "rbxassetid://7734042071"},
        {name = "Settings", icon = "rbxassetid://7734053495"}
    }
    
    -- Create each tab button
    for i, tab in ipairs(tabs) do
        local buttonWidth = 1/#tabs
        
        -- Container for the button
        local container = Create("Frame", {
            Name = tab.name .. "Container",
            BackgroundTransparency = 1,
            Position = UDim2.new((i-1) * buttonWidth, 0, 0, 0),
            Size = UDim2.new(buttonWidth, 0, 1, 0),
            Parent = self.TabsContainer
        })
        
        -- Button
        local button = Create("TextButton", {
            Name = tab.name .. "Button",
            BackgroundTransparency = 1,
            Size = UDim2.new(1, 0, 1, 0),
            Text = "",
            Parent = container
        })
        
        -- Icon
        local icon = Create("ImageLabel", {
            Name = "Icon",
            BackgroundTransparency = 1,
            Position = UDim2.new(0.5, -12, 0, 3),
            Size = UDim2.new(0, 24, 0, 24),
            Image = tab.icon,
            ImageColor3 = Colors.TextDark,
            Parent = button
        })
        
        -- Label
        local label = Create("TextLabel", {
            Name = "Label",
            BackgroundTransparency = 1,
            Position = UDim2.new(0, 0, 0, 22),
            Size = UDim2.new(1, 0, 0, 14),
            Font = Enum.Font.GothamSemibold,
            Text = tab.name,
            TextColor3 = Colors.TextDark,
            TextSize = 12,
            Parent = button
        })
        
        -- Indicator for selected tab
        local indicator = Create("Frame", {
            Name = "Indicator",
            BackgroundColor3 = Colors.Primary,
            BorderSizePixel = 0,
            Position = UDim2.new(0.5, -15, 1, -2),
            Size = UDim2.new(0, 30, 0, 2),
            Visible = false,
            Parent = button
        })
        
        -- Button functionality
        button.MouseButton1Click:Connect(function()
            self:SwitchTab(tab.name)
        end)
        
        -- Store button references
        self.TabButtons[tab.name] = {
            Container = container,
            Button = button,
            Icon = icon,
            Label = label,
            Indicator = indicator
        }
    end
end

-- Create content area
function LAJHub:CreateContent()
    self.Content = Create("Frame", {
        Name = "Content",
        BackgroundTransparency = 1,
        Position = UDim2.new(0, 0, 0, 76),
        Size = UDim2.new(1, 0, 1, -76),
        ClipsDescendants = true,
        Parent = self.Main
    })
    
    -- Create pages
    self.Pages = {}
    
    -- Home page
    self.Pages.Home = Create("Frame", {
        Name = "HomePage",
        BackgroundTransparency = 1,
        Size = UDim2.new(1, 0, 1, 0),
        Visible = false,
        Parent = self.Content
    })
    
    -- Games page
    self.Pages.Games = Create("ScrollingFrame", {
        Name = "GamesPage",
        BackgroundTransparency = 1,
        Size = UDim2.new(1, 0, 1, 0),
        CanvasSize = UDim2.new(0, 0, 0, 0),
        ScrollBarThickness = 4,
        ScrollBarImageColor3 = Colors.Primary,
        ScrollBarImageTransparency = 0.3,
        VerticalScrollBarPosition = Enum.VerticalScrollBarPosition.Right,
        Visible = false,
        Parent = self.Content
    })
    
    -- Add layout for games page
    Create("UIListLayout", {
        Padding = UDim.new(0, 8),
        SortOrder = Enum.SortOrder.LayoutOrder,
        Parent = self.Pages.Games
    })
    
    -- Add padding for games page
    Create("UIPadding", {
        PaddingLeft = UDim.new(0, 10),
        PaddingRight = UDim.new(0, 10),
        PaddingTop = UDim.new(0, 10),
        PaddingBottom = UDim.new(0, 10),
        Parent = self.Pages.Games
    })
    
    -- Settings page
    self.Pages.Settings = Create("Frame", {
        Name = "SettingsPage",
        BackgroundTransparency = 1,
        Size = UDim2.new(1, 0, 1, 0),
        Visible = false,
        Parent = self.Content
    })
    
    -- Fill pages with content
    self:CreateHomePage()
    self:CreateGamesPage()
    self:CreateSettingsPage()
end

-- Create home page content
function LAJHub:CreateHomePage()
    local page = self.Pages.Home
    
    -- Welcome text
    local welcome = Create("TextLabel", {
        Name = "Welcome",
        BackgroundTransparency = 1,
        Position = UDim2.new(0, UI.Padding, 0, UI.Padding),
        Size = UDim2.new(1, -UI.Padding*2, 0, 20),
        Font = Enum.Font.GothamBold,
        Text = "Welcome",
        TextColor3 = Colors.Primary,
        TextSize = 16,
        TextXAlignment = Enum.TextXAlignment.Left,
        Parent = page
    })
    
    -- Description
    local description = Create("TextLabel", {
        Name = "Description",
        BackgroundTransparency = 1,
        Position = UDim2.new(0, UI.Padding, 0, 35),
        Size = UDim2.new(1, -UI.Padding*2, 0, 40),
        Font = Enum.Font.Gotham,
        Text = "Touch a game below to execute scripts.",
        TextColor3 = Colors.TextDark,
        TextSize = 14,
        TextWrapped = true,
        TextXAlignment = Enum.TextXAlignment.Left,
        Parent = page
    })
    
    -- Quick access buttons
    local quickButtons = Create("Frame", {
        Name = "QuickButtons",
        BackgroundTransparency = 1,
        Position = UDim2.new(0, UI.Padding, 0, 85),
        Size = UDim2.new(1, -UI.Padding*2, 0, 40),
        Parent = page
    })
    
    -- Popular games
    local popularGames = {
        "Blox Fruits",
        "Dead Rails",
        "Pet Sim 99"
    }
    
    -- Create buttons for popular games
    for i, game in ipairs(popularGames) do
        local button = self:CreateButton(
            game,
            function() self:ExecuteScript(game) end,
            UDim2.new((i-1)/3, i > 1 and 5 or 0, 0, 0),
            UDim2.new(1/3, -5, 1, 0),
            quickButtons
        )
    end
end

-- Create games page content
function LAJHub:CreateGamesPage()
    local page = self.Pages.Games
    
    -- Game data
    local games = {
        {name = "Blox Fruits", desc = "Auto-farm, ESP"},
        {name = "Dead Rails", desc = "Auto-farm, ESP"},
        {name = "Pet Simulator 99", desc = "Auto-farm, pets"},
        {name = "Arsenal", desc = "Aimbot, ESP"},
        {name = "Adopt Me", desc = "Features"},
        {name = "Jailbreak", desc = "Auto-rob, ESP"}
    }
    
    -- Create game cards
    for i, game in ipairs(games) do
        self:CreateGameCard(game.name, game.desc, i)
    end
    
    -- Update canvas size based on content
    local layout = page:FindFirstChildOfClass("UIListLayout")
    layout:GetPropertyChangedSignal("AbsoluteContentSize"):Connect(function()
        page.CanvasSize = UDim2.new(0, 0, 0, layout.AbsoluteContentSize.Y + 10)
    end)
end

-- Create a game card
function LAJHub:CreateGameCard(name, desc, order)
    local card = Create("Frame", {
        Name = name .. "Card",
        BackgroundColor3 = Colors.Secondary,
        Size = UDim2.new(1, 0, 0, 70),
        LayoutOrder = order,
        Parent = self.Pages.Games
    })
    Round(card)
    
    -- Title text
    local title = Create("TextLabel", {
        Name = "Title",
        BackgroundTransparency = 1,
        Position = UDim2.new(0, 10, 0, 10),
        Size = UDim2.new(1, -20, 0, 20),
        Font = Enum.Font.GothamBold,
        Text = name,
        TextColor3 = Colors.Text,
        TextSize = 14,
        TextXAlignment = Enum.TextXAlignment.Left,
        Parent = card
    })
    
    -- Description text
    local description = Create("TextLabel", {
        Name = "Description",
        BackgroundTransparency = 1,
        Position = UDim2.new(0, 10, 0, 32),
        Size = UDim2.new(1, -110, 0, 20),
        Font = Enum.Font.Gotham,
        Text = desc,
        TextColor3 = Colors.TextDark,
        TextSize = 12,
        TextXAlignment = Enum.TextXAlignment.Left,
        Parent = card
    })
    
    -- Execute button
    local button = Create("TextButton", {
        Name = "ExecuteButton",
        BackgroundColor3 = Colors.Primary,
        Position = UDim2.new(1, -90, 0.5, 0),
        AnchorPoint = Vector2.new(0, 0.5),
        Size = UDim2.new(0, 80, 0, 32),
        Font = Enum.Font.GothamSemibold,
        Text = "EXECUTE",
        TextColor3 = Colors.Text,
        TextSize = 12,
        Parent = card
    })
    Round(button, 4)
    
    -- Button hover effects
    button.MouseEnter:Connect(function()
        Tween(button, Anim.Short, {BackgroundColor3 = Colors.PrimaryDark})
    end)
    
    button.MouseLeave:Connect(function()
        Tween(button, Anim.Short, {BackgroundColor3 = Colors.Primary})
    end)
    
    -- Card hover effects
    card.MouseEnter:Connect(function()
        Tween(card, Anim.Short, {BackgroundColor3 = Color3.fromRGB(25, 25, 35)})
    end)
    
    card.MouseLeave:Connect(function()
        Tween(card, Anim.Short, {BackgroundColor3 = Colors.Secondary})
    end)
    
    -- Execute functionality
    button.MouseButton1Click:Connect(function()
        self:ExecuteScript(name)
    end)
    
    -- Make the whole card clickable for mobile
    card.InputBegan:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseButton1 or
           input.UserInputType == Enum.UserInputType.Touch then
            -- Don't trigger if clicking the button
            local relativePosition = input.Position - card.AbsolutePosition
            if relativePosition.X < card.AbsoluteSize.X - 90 then
                self:ExecuteScript(name)
            end
        end
    end)
    
    return card
end

-- Create settings page content
function LAJHub:CreateSettingsPage()
    local page = self.Pages.Settings
    
    -- Title
    local title = Create("TextLabel", {
        Name = "Title",
        BackgroundTransparency = 1,
        Position = UDim2.new(0, UI.Padding, 0, UI.Padding),
        Size = UDim2.new(1, -UI.Padding*2, 0, 20),
        Font = Enum.Font.GothamBold,
        Text = "Settings",
        TextColor3 = Colors.Text,
        TextSize = 16,
        TextXAlignment = Enum.TextXAlignment.Left,
        Parent = page
    })
    
    -- Auto-execute toggle
    self:CreateToggle("Auto-Execute", "Execute scripts when joining games", true, UDim2.new(0, UI.Padding, 0, 40), page)
    
    -- Notifications toggle
    self:CreateToggle("Notifications", "Show on-screen notifications", true, UDim2.new(0, UI.Padding, 0, 80), page)
    
    -- Version info
    local version = Create("TextLabel", {
        Name = "Version",
        BackgroundTransparency = 1,
        Position = UDim2.new(0, UI.Padding, 1, -40),
        Size = UDim2.new(1, -UI.Padding*2, 0, 20),
        Font = Enum.Font.Gotham,
        Text = "LAJ Hub Mobile v1.0",
        TextColor3 = Colors.TextDark,
        TextSize = 12,
        TextXAlignment = Enum.TextXAlignment.Left,
        Parent = page
    })
    
    -- Discord link
    local discord = Create("TextLabel", {
        Name = "Discord",
        BackgroundTransparency = 1,
        Position = UDim2.new(0, UI.Padding, 1, -20),
        Size = UDim2.new(1, -UI.Padding*2, 0, 20),
        Font = Enum.Font.Gotham,
        Text = "discord.gg/lajhub",
        TextColor3 = Colors.Primary,
        TextSize = 12,
        TextXAlignment = Enum.TextXAlignment.Left,
        Parent = page
    })
end

-- Create a toggle switch
function LAJHub:CreateToggle(title, description, defaultState, position, parent)
    local container = Create("Frame", {
        Name = title .. "Container",
        BackgroundTransparency = 1,
        Position = position,
        Size = UDim2.new(1, -UI.Padding*2, 0, 30),
        Parent = parent
    })
    
    -- Label
    local label = Create("TextLabel", {
        Name = "Label",
        BackgroundTransparency = 1,
        Position = UDim2.new(0, 0, 0, 0),
        Size = UDim2.new(1, -50, 0, 16),
        Font = Enum.Font.GothamSemibold,
        Text = title,
        TextColor3 = Colors.Text,
        TextSize = 14,
        TextXAlignment = Enum.TextXAlignment.Left,
        Parent = container
    })
    
    -- Description
    local desc = Create("TextLabel", {
        Name = "Description",
        BackgroundTransparency = 1,
        Position = UDim2.new(0, 0, 0, 16),
        Size = UDim2.new(1, -50, 0, 14),
        Font = Enum.Font.Gotham,
        Text = description,
        TextColor3 = Colors.TextDark,
        TextSize = 12,
        TextXAlignment = Enum.TextXAlignment.Left,
        Parent = container
    })
    
    -- Toggle background
    local toggleBg = Create("Frame", {
        Name = "ToggleBackground",
        BackgroundColor3 = defaultState and Colors.Primary or Colors.TextDark,
        Position = UDim2.new(1, -40, 0.5, 0),
        AnchorPoint = Vector2.new(0, 0.5),
        Size = UDim2.new(0, 40, 0, 20),
        Parent = container
    })
    Round(toggleBg, 10)
    
    -- Toggle indicator
    local toggleBall = Create("Frame", {
        Name = "ToggleBall",
        BackgroundColor3 = Colors.Text,
        Position = defaultState and UDim2.new(1, -18, 0.5, 0) or UDim2.new(0, 2, 0.5, 0),
        AnchorPoint = Vector2.new(0, 0.5),
        Size = UDim2.new(0, 16, 0, 16),
        Parent = toggleBg
    })
    Round(toggleBall, 8)
    
    -- Toggle state
    local state = defaultState
    
    -- Toggle functionality
    toggleBg.InputBegan:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseButton1 or
           input.UserInputType == Enum.UserInputType.Touch then
            state = not state
            
            Tween(toggleBall, Anim.Short, {
                Position = state and UDim2.new(1, -18, 0.5, 0) or UDim2.new(0, 2, 0.5, 0)
            })
            
            Tween(toggleBg, Anim.Short, {
                BackgroundColor3 = state and Colors.Primary or Colors.TextDark
            })
        end
    end)
    
    return container
end

-- Create a button
function LAJHub:CreateButton(text, callback, position, size, parent)
    local button = Create("TextButton", {
        Name = text .. "Button",
        BackgroundColor3 = Colors.Primary,
        Position = position,
        Size = size,
        Font = Enum.Font.GothamSemibold,
        Text = text,
        TextColor3 = Colors.Text,
        TextSize = 13,
        Parent = parent
    })
    Round(button, 4)
    
    -- Hover effects
    button.MouseEnter:Connect(function()
        Tween(button, Anim.Short, {BackgroundColor3 = Colors.PrimaryDark})
    end)
    
    button.MouseLeave:Connect(function()
        Tween(button, Anim.Short, {BackgroundColor3 = Colors.Primary})
    end)
    
    -- Click functionality
    button.MouseButton1Click:Connect(function()
        if callback then callback() end
    end)
    
    return button
end

-- Switch between tabs
function LAJHub:SwitchTab(tabName)
    -- Don't switch to current tab
    if self.ActiveTab == tabName then
        return
    end
    
    -- Update active tab
    self.ActiveTab = tabName
    
    -- Update title
    self.Title.Text = tabName == "Home" and "LAJ HUB" or tabName
    
    -- Hide all pages with animation
    for name, page in pairs(self.Pages) do
        if page.Visible then
            Tween(page, Anim.Short, {
                Position = UDim2.new(0.1, 0, 0, 0),
                BackgroundTransparency = 1
            }).Completed:Connect(function()
                page.Visible = false
                page.Position = UDim2.new(-0.1, 0, 0, 0)
            end)
        end
    end
    
    -- Reset all tab buttons
    for name, tab in pairs(self.TabButtons) do
        tab.Indicator.Visible = false
        
        Tween(tab.Icon, Anim.Short, {
            ImageColor3 = Colors.TextDark
        })
        
        Tween(tab.Label, Anim.Short, {
            TextColor3 = Colors.TextDark
        })
    end
    
    -- Show selected page
    if self.Pages[tabName] then
        local page = self.Pages[tabName]
        page.Position = UDim2.new(-0.1, 0, 0, 0)
        page.Visible = true
        
        Tween(page, Anim.Normal, {
            Position = UDim2.new(0, 0, 0, 0),
            BackgroundTransparency = 0
        })
    end
    
    -- Highlight selected tab
    if self.TabButtons[tabName] then
        local tab = self.TabButtons[tabName]
        tab.Indicator.Visible = true
        
        Tween(tab.Icon, Anim.Short, {
            ImageColor3 = Colors.Primary
        })
        
        Tween(tab.Label, Anim.Short, {
            TextColor3 = Colors.Primary
        })
    end
end

-- Make UI draggable
function LAJHub:MakeDraggable()
    local frame = self.Main
    local dragToggle, dragStart, startPos
    
    self.TopBar.InputBegan:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseButton1 then
            dragToggle = true
            dragStart = input.Position
            startPos = frame.Position
            
            input.Changed:Connect(function()
                if input.UserInputState == Enum.UserInputState.End then
                    dragToggle = false
                end
            end)
        end
    end)
    
    UserInputService.InputChanged:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseMovement and dragToggle then
            local delta = input.Position - dragStart
            frame.Position = UDim2.new(
                startPos.X.Scale,
                startPos.X.Offset + delta.X,
                startPos.Y.Scale,
                startPos.Y.Offset + delta.Y
            )
        end
    end)
end

-- Show a notification
function LAJHub:ShowNotification(title, message, color)
    color = color or Colors.Primary
    
    -- Create notification container
    local notification = Create("Frame", {
        Name = "Notification",
        AnchorPoint = Vector2.new(0.5, 0),
        BackgroundColor3 = Colors.Secondary,
        Position = UDim2.new(0.5, 0, 0, -60),
        Size = UDim2.new(0, 250, 0, 60),
        ZIndex = 100,
        Parent = self.GUI
    })
    Round(notification)
    
    -- Accent bar
    Create("Frame", {
        Name = "AccentBar",
        BackgroundColor3 = color,
        BorderSizePixel = 0,
        Position = UDim2.new(0, 0, 0, 0),
        Size = UDim2.new(1, 0, 0, 3),
        ZIndex = 101,
        Parent = notification
    })
    
    -- Title
    Create("TextLabel", {
        Name = "Title",
        BackgroundTransparency = 1,
        Position = UDim2.new(0, 10, 0, 8),
        Size = UDim2.new(1, -20, 0, 16),
        Font = Enum.Font.GothamBold,
        Text = title,
        TextColor3 = color,
        TextSize = 14,
        TextXAlignment = Enum.TextXAlignment.Left,
        ZIndex = 101,
        Parent = notification
    })
    
    -- Message
    Create("TextLabel", {
        Name = "Message",
        BackgroundTransparency = 1,
        Position = UDim2.new(0, 10, 0, 28),
        Size = UDim2.new(1, -20, 0, 26),
        Font = Enum.Font.Gotham,
        Text = message,
        TextColor3 = Colors.TextDark,
        TextSize = 12,
        TextWrapped = true,
        TextXAlignment = Enum.TextXAlignment.Left,
        ZIndex = 101,
        Parent = notification
    })
    
    -- Animate in
    Tween(notification, Anim.Normal, {
        Position = UDim2.new(0.5, 0, 0, 20)
    })
    
    -- Auto remove
    spawn(function()
        wait(3)
        Tween(notification, Anim.Normal, {
            Position = UDim2.new(0.5, 0, 0, -60)
        }).Completed:Wait()
        notification:Destroy()
    end)
    
    return notification
end

-- Close the UI
function LAJHub:Close()
    Tween(self.Overlay, Anim.Short, {
        BackgroundTransparency = 1
    })
    
    Tween(self.Main, Anim.Normal, {
        Size = UDim2.new(0, 0, 0, 0),
        BackgroundTransparency = 1
    }).Completed:Connect(function()
        self.GUI:Destroy()
    end)
end

-- Execute a script
function LAJHub:ExecuteScript(gameName)
    self:ShowNotification("Loading", "Loading script for " .. gameName)
    
    -- Execute the script (simplified)
    pcall(function()
        loadstring(game:HttpGet("https://raw.githubusercontent.com/AhmadV99/Speed-Hub-X/main/Speed%20Hub%20X.lua", true))()
    end)
    
    -- Show success notification
    wait(1)
    self:ShowNotification("Success", "Script loaded for " .. gameName, Colors.Success)
end

-- Initialize the UI
local hub = LAJHub.new()
return hub
