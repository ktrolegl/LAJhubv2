--[[
    LAJ HUB - PREMIUM PERSISTENT UI
    Ultra-modern dark theme UI with advanced animations and effects
    Stays active and visible even when clicking elsewhere
    Features premium animations, effects, and responsive design
]]

-- Services
local TweenService = game:GetService("TweenService")
local RunService = game:GetService("RunService")
local UserInputService = game:GetService("UserInputService")
local Players = game:GetService("Players")
local CoreGui = game:GetService("CoreGui")

-- Utility functions
local function Create(instanceType)
    return function(properties)
        local instance = Instance.new(instanceType)
        for property, value in pairs(properties) do
            instance[property] = value
        end
        return instance
    end
end

-- Premium color scheme (deep purple with electric accents)
local colors = {
    background = Color3.fromRGB(20, 12, 28),    -- Deep dark purple background
    backgroundLight = Color3.fromRGB(30, 20, 40), -- Slightly lighter background
    backgroundDark = Color3.fromRGB(15, 8, 22),  -- Darker background
    accent = Color3.fromRGB(130, 60, 255),      -- Vibrant purple accent
    accentLight = Color3.fromRGB(160, 100, 255), -- Lighter accent
    accentDark = Color3.fromRGB(100, 40, 200),   -- Darker accent
    secondaryAccent = Color3.fromRGB(0, 210, 255), -- Cyan accent for contrast
    tertiaryAccent = Color3.fromRGB(255, 70, 140), -- Pink accent for highlights
    text = Color3.fromRGB(240, 240, 255),        -- White text
    textDim = Color3.fromRGB(170, 170, 190),     -- Dimmed text
    button = Color3.fromRGB(40, 25, 60),         -- Button background
    buttonHover = Color3.fromRGB(60, 35, 90),    -- Button hover
    shadow = Color3.fromRGB(0, 0, 0),            -- Shadow color
    success = Color3.fromRGB(70, 200, 120),      -- Success indicators
    warning = Color3.fromRGB(240, 180, 60),      -- Warning indicators
    error = Color3.fromRGB(240, 60, 60)          -- Error indicators
}

-- Configuration
local config = {
    cornerRadius = 8,            -- Corner radius for UI elements
    borderThickness = 1.5,       -- Border thickness
    animationSpeed = 0.3,        -- Animation speed
    glowIntensity = 0.8,         -- Glow effect intensity
    accentPulseSpeed = 2,        -- Accent color pulse animation speed
    hoverExpandScale = 1.05,     -- How much buttons expand on hover
    sidebarWidth = 60,           -- Width of the sidebar
    mainFrameWidth = 550,        -- Width of the main frame
    mainFrameHeight = 350,       -- Height of the main frame
    topBarHeight = 40,           -- Height of the top bar
    tabButtonSize = 36,          -- Size of tab buttons
    showParticles = true,        -- Whether to show ambient particles
    showTooltips = true,         -- Whether to show tooltips
    enableSounds = true          -- Whether to play UI sounds
}

-- Main UI Creation
local LAJHub = Create("ScreenGui")({
    Name = "LAJHubPremium",
    ZIndexBehavior = Enum.ZIndexBehavior.Sibling,
    ResetOnSpawn = false,
    DisplayOrder = 100
})

-- Try to parent to CoreGui
pcall(function() LAJHub.Parent = CoreGui end)
if not LAJHub.Parent then LAJHub.Parent = Players.LocalPlayer:WaitForChild("PlayerGui") end

-- Main Container
local MainFrame = Create("Frame")({
    Name = "MainFrame",
    Parent = LAJHub,
    BackgroundColor3 = colors.background,
    BorderSizePixel = 0,
    Position = UDim2.new(0.5, -config.mainFrameWidth/2, 0.5, -config.mainFrameHeight/2),
    Size = UDim2.new(0, config.mainFrameWidth, 0, config.mainFrameHeight),
    ClipsDescendants = true,
    Active = true,
    Draggable = true,
    Visible = true
})

-- Apply a gradient to the main frame for depth
local MainGradient = Create("UIGradient")({
    Parent = MainFrame,
    Color = ColorSequence.new({
        ColorSequenceKeypoint.new(0, colors.background),
        ColorSequenceKeypoint.new(1, colors.backgroundDark)
    }),
    Rotation = 45
})

-- Add corners to main frame
local MainCorner = Create("UICorner")({
    Parent = MainFrame,
    CornerRadius = UDim.new(0, config.cornerRadius)
})

-- Create drop shadow
local Shadow = Create("ImageLabel")({
    Name = "Shadow",
    Parent = MainFrame,
    BackgroundTransparency = 1,
    Position = UDim2.new(0, -15, 0, -15),
    Size = UDim2.new(1, 30, 1, 30),
    ZIndex = -1,
    Image = "rbxassetid://6014261993",
    ImageColor3 = colors.shadow,
    ImageTransparency = 0.5,
    ScaleType = Enum.ScaleType.Slice,
    SliceCenter = Rect.new(49, 49, 450, 450)
})

-- Add outer stroke for premium look
local OuterStroke = Create("UIStroke")({
    Parent = MainFrame,
    ApplyStrokeMode = Enum.ApplyStrokeMode.Border,
    Color = colors.accent,
    Thickness = config.borderThickness,
    Transparency = 0.7
})

-- Create pulsing glow effect
local GlowEffect = Create("ImageLabel")({
    Name = "GlowEffect",
    Parent = MainFrame,
    BackgroundTransparency = 1,
    Position = UDim2.new(0, -20, 0, -20),
    Size = UDim2.new(1, 40, 1, 40),
    ZIndex = -2,
    Image = "rbxassetid://5028857084", -- Glow texture
    ImageColor3 = colors.accent,
    ImageTransparency = 0.8
})

-- Create ambient particles
if config.showParticles then
    local Particles = Create("Frame")({
        Name = "Particles",
        Parent = MainFrame,
        BackgroundTransparency = 1,
        Size = UDim2.new(1, 0, 1, 0),
        ZIndex = 5
    })
    
    -- Create individual particles
    for i = 1, 20 do
        local particle = Create("Frame")({
            Name = "Particle_" .. i,
            Parent = Particles,
            BackgroundColor3 = colors.accent,
            BackgroundTransparency = math.random(70, 95) / 100,
            BorderSizePixel = 0,
            Position = UDim2.new(math.random(1, 100) / 100, 0, math.random(1, 100) / 100, 0),
            Size = UDim2.new(0, math.random(1, 3), 0, math.random(1, 3)),
            ZIndex = 3
        })
        
        -- Make particles round
        Create("UICorner")({
            Parent = particle,
            CornerRadius = UDim.new(1, 0)
        })
        
        -- Animate particles floating
        spawn(function()
            while particle and particle.Parent do
                local moveX = math.random(-30, 30) / 100
                local moveY = math.random(-30, 30) / 100
                local duration = math.random(3, 8)
                
                TweenService:Create(particle, TweenInfo.new(duration, Enum.EasingStyle.Linear), {
                    Position = UDim2.new(
                        math.clamp(particle.Position.X.Scale + moveX, 0, 1), 0,
                        math.clamp(particle.Position.Y.Scale + moveY, 0, 1), 0
                    ),
                    BackgroundTransparency = math.random(70, 95) / 100
                }):Play()
                
                wait(duration)
            end
        end)
    end
end

-- Create top bar
local TopBar = Create("Frame")({
    Name = "TopBar",
    Parent = MainFrame,
    BackgroundColor3 = colors.backgroundDark,
    BorderSizePixel = 0,
    Size = UDim2.new(1, 0, 0, config.topBarHeight)
})

-- Apply gradient to top bar
local TopBarGradient = Create("UIGradient")({
    Parent = TopBar,
    Color = ColorSequence.new({
        ColorSequenceKeypoint.new(0, colors.backgroundDark),
        ColorSequenceKeypoint.new(1, colors.background)
    }),
    Rotation = 90
})

-- Round the top corners of the top bar
local TopBarCorner = Create("UICorner")({
    Parent = TopBar,
    CornerRadius = UDim.new(0, config.cornerRadius)
})

-- Fix the corners at the bottom of the top bar
local TopBarFix = Create("Frame")({
    Name = "TopBarFix",
    Parent = TopBar,
    BackgroundColor3 = colors.backgroundDark,
    BorderSizePixel = 0,
    Position = UDim2.new(0, 0, 0.5, 0),
    Size = UDim2.new(1, 0, 0.5, 0)
})

-- Apply the same gradient to the fix
TopBarGradient:Clone().Parent = TopBarFix

-- Title logo
local TitleIcon = Create("ImageLabel")({
    Name = "TitleIcon",
    Parent = TopBar,
    BackgroundTransparency = 1,
    Position = UDim2.new(0, 10, 0, 5),
    Size = UDim2.new(0, 30, 0, 30),
    Image = "rbxassetid://7743878358", -- Custom logo (shark icon)
    ImageColor3 = colors.accent
})

-- Add glow to logo
local LogoGlow = Create("ImageLabel")({
    Name = "LogoGlow",
    Parent = TitleIcon,
    BackgroundTransparency = 1,
    Position = UDim2.new(0, -5, 0, -5),
    Size = UDim2.new(1, 10, 1, 10),
    Image = "rbxassetid://5028857084", -- Glow texture
    ImageColor3 = colors.accent,
    ImageTransparency = 0.6,
    ZIndex = -1
})

-- Title text
local TitleLabel = Create("TextLabel")({
    Name = "TitleLabel",
    Parent = TopBar,
    BackgroundTransparency = 1,
    Position = UDim2.new(0, 50, 0, 0),
    Size = UDim2.new(1, -120, 1, 0),
    Font = Enum.Font.GothamBold,
    Text = "LAJ HUB PREMIUM",
    TextColor3 = colors.accent,
    TextSize = 18,
    TextXAlignment = Enum.TextXAlignment.Left
})

-- Animate the title glow
spawn(function()
    while TitleLabel and TitleLabel.Parent do
        TweenService:Create(TitleLabel, TweenInfo.new(config.accentPulseSpeed, Enum.EasingStyle.Sine, Enum.EasingDirection.InOut), {
            TextColor3 = colors.accentLight
        }):Play()
        
        wait(config.accentPulseSpeed)
        
        if not TitleLabel or not TitleLabel.Parent then break end
        
        TweenService:Create(TitleLabel, TweenInfo.new(config.accentPulseSpeed, Enum.EasingStyle.Sine, Enum.EasingDirection.InOut), {
            TextColor3 = colors.accent
        }):Play()
        
        wait(config.accentPulseSpeed)
    end
end)

-- Minimize button
local MinimizeButton = Create("TextButton")({
    Name = "MinimizeButton",
    Parent = TopBar,
    BackgroundColor3 = colors.warning,
    BorderSizePixel = 0,
    Position = UDim2.new(1, -70, 0.5, -8),
    Size = UDim2.new(0, 16, 0, 16),
    Font = Enum.Font.GothamBold,
    Text = "",
    TextColor3 = colors.text,
    TextSize = 14,
    AutoButtonColor = false
})

-- Add a minus sign to the minimize button
local MinimizeLine = Create("Frame")({
    Name = "MinimizeLine",
    Parent = MinimizeButton,
    BackgroundColor3 = colors.backgroundDark,
    BorderSizePixel = 0,
    Position = UDim2.new(0.5, -5, 0.5, -1),
    Size = UDim2.new(0, 10, 0, 2),
    ZIndex = 2
})

-- Round the minimize button
local MinimizeCorner = Create("UICorner")({
    Parent = MinimizeButton,
    CornerRadius = UDim.new(1, 0)
})

-- Create a glow effect for the minimize button
local MinimizeGlow = Create("ImageLabel")({
    Name = "MinimizeGlow",
    Parent = MinimizeButton,
    BackgroundTransparency = 1,
    Position = UDim2.new(0, -4, 0, -4),
    Size = UDim2.new(1, 8, 1, 8),
    Image = "rbxassetid://5028857084", -- Glow texture
    ImageColor3 = colors.warning,
    ImageTransparency = 0.8,
    ZIndex = -1
})

-- Close button
local CloseButton = Create("TextButton")({
    Name = "CloseButton",
    Parent = TopBar,
    BackgroundColor3 = colors.error,
    BorderSizePixel = 0,
    Position = UDim2.new(1, -40, 0.5, -8),
    Size = UDim2.new(0, 16, 0, 16),
    Font = Enum.Font.GothamBold,
    Text = "",
    TextColor3 = colors.text,
    TextSize = 14,
    AutoButtonColor = false
})

-- Add an X to the close button
local CloseX1 = Create("Frame")({
    Name = "CloseX1",
    Parent = CloseButton,
    BackgroundColor3 = colors.backgroundDark,
    BorderSizePixel = 0,
    Position = UDim2.new(0.5, -5, 0.5, -1),
    Size = UDim2.new(0, 10, 0, 2),
    Rotation = 45,
    ZIndex = 2
})

local CloseX2 = Create("Frame")({
    Name = "CloseX2",
    Parent = CloseButton,
    BackgroundColor3 = colors.backgroundDark,
    BorderSizePixel = 0,
    Position = UDim2.new(0.5, -5, 0.5, -1),
    Size = UDim2.new(0, 10, 0, 2),
    Rotation = -45,
    ZIndex = 2
})

-- Round the close button
local CloseCorner = Create("UICorner")({
    Parent = CloseButton,
    CornerRadius = UDim.new(1, 0)
})

-- Create a glow effect for the close button
local CloseGlow = Create("ImageLabel")({
    Name = "CloseGlow",
    Parent = CloseButton,
    BackgroundTransparency = 1,
    Position = UDim2.new(0, -4, 0, -4),
    Size = UDim2.new(1, 8, 1, 8),
    Image = "rbxassetid://5028857084", -- Glow texture
    ImageColor3 = colors.error,
    ImageTransparency = 0.8,
    ZIndex = -1
})

-- Minimized button (shows when UI is minimized)
local MinimizedButton = Create("Frame")({
    Name = "MinimizedButton",
    Parent = LAJHub,
    BackgroundColor3 = colors.backgroundDark,
    BorderSizePixel = 0,
    Position = UDim2.new(0, 20, 0, 20),
    Size = UDim2.new(0, 140, 0, 40),
    Visible = false,
    Active = true,
    Draggable = true,
    ZIndex = 10
})

-- Round the minimized button
local MinimizedCorner = Create("UICorner")({
    Parent = MinimizedButton,
    CornerRadius = UDim.new(0, config.cornerRadius)
})

-- Add stroke to minimized button
local MinimizedStroke = Create("UIStroke")({
    Parent = MinimizedButton,
    ApplyStrokeMode = Enum.ApplyStrokeMode.Border,
    Color = colors.accent,
    Thickness = config.borderThickness,
    Transparency = 0
})

-- Add glow to minimized button
local MinimizedGlow = Create("ImageLabel")({
    Name = "MinimizedGlow",
    Parent = MinimizedButton,
    BackgroundTransparency = 1,
    Position = UDim2.new(0, -10, 0, -10),
    Size = UDim2.new(1, 20, 1, 20),
    Image = "rbxassetid://5028857084", -- Glow texture
    ImageColor3 = colors.accent,
    ImageTransparency = 0.7,
    ZIndex = 9
})

-- Minimized button content
local MinimizedIcon = Create("ImageLabel")({
    Name = "MinimizedIcon",
    Parent = MinimizedButton,
    BackgroundTransparency = 1,
    Position = UDim2.new(0, 8, 0, 5),
    Size = UDim2.new(0, 30, 0, 30),
    Image = "rbxassetid://7743878358", -- Custom logo
    ImageColor3 = colors.accent,
    ZIndex = 11
})

local MinimizedText = Create("TextLabel")({
    Name = "MinimizedText",
    Parent = MinimizedButton,
    BackgroundTransparency = 1,
    Position = UDim2.new(0, 45, 0, 0),
    Size = UDim2.new(1, -50, 1, 0),
    Font = Enum.Font.GothamBold,
    Text = "LAJ HUB",
    TextColor3 = colors.accent,
    TextSize = 16,
    ZIndex = 11
})

-- Create content frame
local ContentFrame = Create("Frame")({
    Name = "ContentFrame",
    Parent = MainFrame,
    BackgroundTransparency = 1,
    Position = UDim2.new(0, 0, 0, config.topBarHeight),
    Size = UDim2.new(1, 0, 1, -config.topBarHeight)
})

-- Create side panel
local SidePanel = Create("Frame")({
    Name = "SidePanel",
    Parent = ContentFrame,
    BackgroundColor3 = colors.backgroundDark,
    BorderSizePixel = 0,
    Position = UDim2.new(0, 0, 0, 0),
    Size = UDim2.new(0, config.sidebarWidth, 1, 0)
})

-- Apply gradient to side panel
local SidePanelGradient = Create("UIGradient")({
    Parent = SidePanel,
    Color = ColorSequence.new({
        ColorSequenceKeypoint.new(0, colors.backgroundDark),
        ColorSequenceKeypoint.new(1, colors.background)
    }),
    Rotation = 0
})

-- Create main content area
local MainContent = Create("Frame")({
    Name = "MainContent",
    Parent = ContentFrame,
    BackgroundTransparency = 1,
    Position = UDim2.new(0, config.sidebarWidth, 0, 0),
    Size = UDim2.new(1, -config.sidebarWidth, 1, 0)
})

-- Create tab buttons container in side panel
local TabButtonsContainer = Create("Frame")({
    Name = "TabButtonsContainer",
    Parent = SidePanel,
    BackgroundTransparency = 1,
    Position = UDim2.new(0, 0, 0, 10),
    Size = UDim2.new(1, 0, 1, -20)
})

-- Create tab button layout
local TabButtonLayout = Create("UIListLayout")({
    Parent = TabButtonsContainer,
    FillDirection = Enum.FillDirection.Vertical,
    HorizontalAlignment = Enum.HorizontalAlignment.Center,
    SortOrder = Enum.SortOrder.LayoutOrder,
    Padding = UDim.new(0, 15)
})

-- Create content tabs
local HomeTab = Create("ScrollingFrame")({
    Name = "HomeTab",
    Parent = MainContent,
    Active = true,
    BackgroundTransparency = 1,
    BorderSizePixel = 0,
    Position = UDim2.new(0, 0, 0, 0),
    Size = UDim2.new(1, 0, 1, 0),
    ScrollBarThickness = 4,
    ScrollBarImageColor3 = colors.accent,
    Visible = true
})

local GamesTab = Create("ScrollingFrame")({
    Name = "GamesTab",
    Parent = MainContent,
    Active = true,
    BackgroundTransparency = 1,
    BorderSizePixel = 0,
    Position = UDim2.new(0, 0, 0, 0),
    Size = UDim2.new(1, 0, 1, 0),
    ScrollBarThickness = 4,
    ScrollBarImageColor3 = colors.accent,
    Visible = false
})

local CreditsTab = Create("ScrollingFrame")({
    Name = "CreditsTab",
    Parent = MainContent,
    Active = true,
    BackgroundTransparency = 1,
    BorderSizePixel = 0,
    Position = UDim2.new(0, 0, 0, 0),
    Size = UDim2.new(1, 0, 1, 0),
    ScrollBarThickness = 4,
    ScrollBarImageColor3 = colors.accent,
    Visible = false
})

local SettingsTab = Create("ScrollingFrame")({
    Name = "SettingsTab",
    Parent = MainContent,
    Active = true,
    BackgroundTransparency = 1,
    BorderSizePixel = 0,
    Position = UDim2.new(0, 0, 0, 0),
    Size = UDim2.new(1, 0, 1, 0),
    ScrollBarThickness = 4,
    ScrollBarImageColor3 = colors.accent,
    Visible = false
})

-- Add UI layouts to tabs
local HomeLayout = Create("UIListLayout")({
    Parent = HomeTab,
    FillDirection = Enum.FillDirection.Vertical,
    HorizontalAlignment = Enum.HorizontalAlignment.Center,
    SortOrder = Enum.SortOrder.LayoutOrder,
    Padding = UDim.new(0, 15)
})

local GamesLayout = Create("UIListLayout")({
    Parent = GamesTab,
    FillDirection = Enum.FillDirection.Vertical,
    HorizontalAlignment = Enum.HorizontalAlignment.Center,
    SortOrder = Enum.SortOrder.LayoutOrder,
    Padding = UDim.new(0, 15)
})

local CreditsLayout = Create("UIListLayout")({
    Parent = CreditsTab,
    FillDirection = Enum.FillDirection.Vertical,
    HorizontalAlignment = Enum.HorizontalAlignment.Center,
    SortOrder = Enum.SortOrder.LayoutOrder,
    Padding = UDim.new(0, 15)
})

local SettingsLayout = Create("UIListLayout")({
    Parent = SettingsTab,
    FillDirection = Enum.FillDirection.Vertical,
    HorizontalAlignment = Enum.HorizontalAlignment.Center,
    SortOrder = Enum.SortOrder.LayoutOrder,
    Padding = UDim.new(0, 15)
})

-- UI UTILITIES AND COMPONENTS

-- Function to create a tab button
local function CreateTabButton(name, icon, tooltip, order)
    local buttonContainer = Create("Frame")({
        Name = name .. "Container",
        Parent = TabButtonsContainer,
        BackgroundTransparency = 1,
        Size = UDim2.new(0, config.tabButtonSize + 8, 0, config.tabButtonSize + 8),
        LayoutOrder = order
    })
    
    local button = Create("ImageButton")({
        Name = name .. "Button",
        Parent = buttonContainer,
        BackgroundColor3 = colors.backgroundLight,
        BackgroundTransparency = 0.8,
        BorderSizePixel = 0,
        Position = UDim2.new(0.5, -config.tabButtonSize/2, 0.5, -config.tabButtonSize/2),
        Size = UDim2.new(0, config.tabButtonSize, 0, config.tabButtonSize),
        Image = icon,
        ImageColor3 = colors.textDim,
        ScaleType = Enum.ScaleType.Fit,
        AutoButtonColor = false
    })
    
    local buttonCorner = Create("UICorner")({
        Parent = button,
        CornerRadius = UDim.new(0, 6)
    })
    
    local indicator = Create("Frame")({
        Name = "Indicator",
        Parent = button,
        BackgroundColor3 = colors.accent,
        BorderSizePixel = 0,
        Position = UDim2.new(0, -2, 0.5, -12),
        Size = UDim2.new(0, 3, 0, 24),
        Visible = false,
        ZIndex = 2
    })
    
    local indicatorCorner = Create("UICorner")({
        Parent = indicator,
        CornerRadius = UDim.new(0, 2)
    })
    
    local buttonGlow = Create("ImageLabel")({
        Name = "Glow",
        Parent = button,
        BackgroundTransparency = 1,
        Position = UDim2.new(0, -5, 0, -5),
        Size = UDim2.new(1, 10, 1, 10),
        Image = "rbxassetid://5028857084", -- Glow texture
        ImageColor3 = colors.accent,
        ImageTransparency = 1,
        ZIndex = 0
    })
    
    -- Hover animations
    button.MouseEnter:Connect(function()
        if not indicator.Visible then
            TweenService:Create(button, TweenInfo.new(0.3), {
                BackgroundTransparency = 0.6,
                ImageColor3 = colors.text
            }):Play()
            
            TweenService:Create(buttonGlow, TweenInfo.new(0.3), {
                ImageTransparency = 0.7
            }):Play()
        end
    end)
    
    button.MouseLeave:Connect(function()
        if not indicator.Visible then
            TweenService:Create(button, TweenInfo.new(0.3), {
                BackgroundTransparency = 0.8,
                ImageColor3 = colors.textDim
            }):Play()
            
            TweenService:Create(buttonGlow, TweenInfo.new(0.3), {
                ImageTransparency = 1
            }):Play()
        end
    end)
    
    return button, indicator
end

-- Function to create a section header
local function CreateSectionHeader(parent, text, order)
    local headerFrame = Create("Frame")({
        Name = text .. "Header",
        Parent = parent,
        BackgroundTransparency = 1,
        Size = UDim2.new(1, -40, 0, 40),
        LayoutOrder = order or 0
    })
    
    local headerText = Create("TextLabel")({
        Name = "Text",
        Parent = headerFrame,
        BackgroundTransparency = 1,
        Position = UDim2.new(0, 0, 0, 0),
        Size = UDim2.new(1, 0, 0, 30),
        Font = Enum.Font.GothamBold,
        Text = text,
        TextColor3 = colors.text,
        TextSize = 18,
        TextXAlignment = Enum.TextXAlignment.Left
    })
    
    local headerLine = Create("Frame")({
        Name = "Line",
        Parent = headerFrame,
        BackgroundColor3 = colors.backgroundLight,
        BorderSizePixel = 0,
        Position = UDim2.new(0, 0, 0, 32),
        Size = UDim2.new(1, 0, 0, 1)
    })
    
    local headerAccent = Create("Frame")({
        Name = "Accent",
        Parent = headerFrame,
        BackgroundColor3 = colors.accent,
        BorderSizePixel = 0,
        Position = UDim2.new(0, 0, 0, 32),
        Size = UDim2.new(0, 0, 0, 2)
    })
    
    -- Animate the accent line growing
    TweenService:Create(headerAccent, TweenInfo.new(0.8, Enum.EasingStyle.Quart, Enum.EasingDirection.Out), {
        Size = UDim2.new(0.4, 0, 0, 2)
    }):Play()
    
    return headerFrame
end

-- Function to create a card container
local function CreateCard(parent, title, description, order)
    local cardFrame = Create("Frame")({
        Name = title .. "Card",
        Parent = parent,
        BackgroundColor3 = colors.backgroundLight,
        BackgroundTransparency = 0.2,
        BorderSizePixel = 0,
        Size = UDim2.new(1, -40, 0, 100), -- Will be adjusted based on content
        LayoutOrder = order or 0
    })
    
    local cardCorner = Create("UICorner")({
        Parent = cardFrame,
        CornerRadius = UDim.new(0, config.cornerRadius)
    })
    
    local cardStroke = Create("UIStroke")({
        Parent = cardFrame,
        ApplyStrokeMode = Enum.ApplyStrokeMode.Border,
        Color = colors.accent,
        Thickness = config.borderThickness,
        Transparency = 0.7
    })
    
    local cardTitle = Create("TextLabel")({
        Name = "Title",
        Parent = cardFrame,
        BackgroundTransparency = 1,
        Position = UDim2.new(0, 15, 0, 10),
        Size = UDim2.new(1, -30, 0, 20),
        Font = Enum.Font.GothamBold,
        Text = title,
        TextColor3 = colors.accent,
        TextSize = 16,
        TextXAlignment = Enum.TextXAlignment.Left
    })
    
    local cardDescription
    if description then
        cardDescription = Create("TextLabel")({
            Name = "Description",
            Parent = cardFrame,
            BackgroundTransparency = 1,
            Position = UDim2.new(0, 15, 0, 35),
            Size = UDim2.new(1, -30, 0, 40),
            Font = Enum.Font.Gotham,
            Text = description,
            TextColor3 = colors.textDim,
            TextSize = 14,
            TextWrapped = true,
            TextXAlignment = Enum.TextXAlignment.Left
        })
    end
    
    local cardContent = Create("Frame")({
        Name = "Content",
        Parent = cardFrame,
        BackgroundTransparency = 1,
        Position = UDim2.new(0, 15, 0, description and 80 or 40),
        Size = UDim2.new(1, -30, 0, 0) -- Will be adjusted based on content
    })
    
    -- Hover effect
    cardFrame.MouseEnter:Connect(function()
        TweenService:Create(cardStroke, TweenInfo.new(0.3), {
            Transparency = 0.4
        }):Play()
    end)
    
    cardFrame.MouseLeave:Connect(function()
        TweenService:Create(cardStroke, TweenInfo.new(0.3), {
            Transparency = 0.7
        }):Play()
    end)
    
    return cardFrame, cardContent
end

-- Function to create a button
local function CreateButton(parent, text, callback, isAccent, position, size)
    local button = Create("TextButton")({
        Name = text .. "Button",
        Parent = parent,
        BackgroundColor3 = isAccent and colors.accent or colors.button,
        BorderSizePixel = 0,
        Position = position or UDim2.new(0, 0, 0, 0),
        Size = size or UDim2.new(1, 0, 0, 36),
        Font = Enum.Font.GothamBold,
        Text = text,
        TextColor3 = isAccent and colors.backgroundDark or colors.text,
        TextSize = 14,
        AutoButtonColor = false
    })
    
    local buttonCorner = Create("UICorner")({
        Parent = button,
        CornerRadius = UDim.new(0, config.cornerRadius)
    })
    
    local buttonGlow = Create("ImageLabel")({
        Name = "Glow",
        Parent = button,
        BackgroundTransparency = 1,
        Position = UDim2.new(0, -5, 0, -5),
        Size = UDim2.new(1, 10, 1, 10),
        Image = "rbxassetid://5028857084", -- Glow texture
        ImageColor3 = isAccent and colors.accent or colors.buttonHover,
        ImageTransparency = 0.8,
        ZIndex = 0
    })
    
    -- Hover effect
    button.MouseEnter:Connect(function()
        local hoverColor = isAccent and 
            colors.accent:Lerp(Color3.new(1,1,1), 0.2) or 
            colors.button:Lerp(colors.accent, 0.2)
            
        TweenService:Create(button, TweenInfo.new(0.3), {
            BackgroundColor3 = hoverColor,
            Size = size * config.hoverExpandScale,
            Position = position - (size * (config.hoverExpandScale - 1)) / 2
        }):Play()
        
        TweenService:Create(buttonGlow, TweenInfo.new(0.3), {
            ImageTransparency = 0.6,
            Size = UDim2.new(1, 20, 1, 20),
            Position = UDim2.new(0, -10, 0, -10)
        }):Play()
    end)
    
    button.MouseLeave:Connect(function()
        TweenService:Create(button, TweenInfo.new(0.3), {
            BackgroundColor3 = isAccent and colors.accent or colors.button,
            Size = size,
            Position = position
        }):Play()
        
        TweenService:Create(buttonGlow, TweenInfo.new(0.3), {
            ImageTransparency = 0.8,
            Size = UDim2.new(1, 10, 1, 10),
            Position = UDim2.new(0, -5, 0, -5)
        }):Play()
    end)
    
    -- Click effect
    button.MouseButton1Down:Connect(function()
        TweenService:Create(button, TweenInfo.new(0.1), {
            Size = size * 0.95,
            Position = position + (size * 0.05) / 2
        }):Play()
    end)
    
    button.MouseButton1Up:Connect(function()
        TweenService:Create(button, TweenInfo.new(0.1), {
            Size = size,
            Position = position
        }):Play()
    end)
    
    button.MouseButton1Click:Connect(function()
        if callback then callback() end
    end)
    
    return button
end

-- Function to create a toggle switch
local function CreateToggle(parent, text, description, default, callback)
    local toggleFrame = Create("Frame")({
        Name = text .. "Toggle",
        Parent = parent,
        BackgroundTransparency = 1,
        Size = UDim2.new(1, 0, 0, 60),
    })
    
    local toggleTitle = Create("TextLabel")({
        Name = "Title",
        Parent = toggleFrame,
        BackgroundTransparency = 1,
        Position = UDim2.new(0, 0, 0, 0),
        Size = UDim2.new(1, -60, 0, 20),
        Font = Enum.Font.GothamBold,
        Text = text,
        TextColor3 = colors.text,
        TextSize = 14,
        TextXAlignment = Enum.TextXAlignment.Left
    })
    
    local toggleDesc = Create("TextLabel")({
        Name = "Description",
        Parent = toggleFrame,
        BackgroundTransparency = 1,
        Position = UDim2.new(0, 0, 0, 25),
        Size = UDim2.new(1, -60, 0, 30),
        Font = Enum.Font.Gotham,
        Text = description,
        TextColor3 = colors.textDim,
        TextSize = 12,
        TextWrapped = true,
        TextXAlignment = Enum.TextXAlignment.Left
    })
    
    local toggleButton = Create("TextButton")({
        Name = "ToggleButton",
        Parent = toggleFrame,
        BackgroundColor3 = default and colors.accent or colors.button,
        BorderSizePixel = 0,
        Position = UDim2.new(1, -50, 0, 15),
        Size = UDim2.new(0, 40, 0, 20),
        Text = "",
        AutoButtonColor = false
    })
    
    local toggleCorner = Create("UICorner")({
        Parent = toggleButton,
        CornerRadius = UDim.new(1, 0)
    })
    
    local toggleCircle = Create("Frame")({
        Name = "Circle",
        Parent = toggleButton,
        BackgroundColor3 = colors.text,
        BorderSizePixel = 0,
        Position = default and UDim2.new(1, -18, 0.5, -8) or UDim2.new(0, 2, 0.5, -8),
        Size = UDim2.new(0, 16, 0, 16)
    })
    
    local circleCorner = Create("UICorner")({
        Parent = toggleCircle,
        CornerRadius = UDim.new(1, 0)
    })
    
    -- Toggle functionality
    local enabled = default
    toggleButton.MouseButton1Click:Connect(function()
        enabled = not enabled
        
        TweenService:Create(toggleButton, TweenInfo.new(0.3), {
            BackgroundColor3 = enabled and colors.accent or colors.button
        }):Play()
        
        TweenService:Create(toggleCircle, TweenInfo.new(0.3), {
            Position = enabled and UDim2.new(1, -18, 0.5, -8) or UDim2.new(0, 2, 0.5, -8)
        }):Play()
        
        if callback then callback(enabled) end
    end)
    
    return toggleFrame, enabled
end

-- Function to create a game button
local function CreateGameButton(parent, name, description, scriptUrl, gameName, order)
    local btnFrame = Create("Frame")({
        Name = gameName .. "Button",
        Parent = parent,
        BackgroundColor3 = colors.backgroundLight,
        BackgroundTransparency = 0.2,
        BorderSizePixel = 0,
        Size = UDim2.new(1, -40, 0, 70),
        LayoutOrder = order or 0
    })
    
    local btnCorner = Create("UICorner")({
        Parent = btnFrame,
        CornerRadius = UDim.new(0, config.cornerRadius)
    })
    
    local btnStroke = Create("UIStroke")({
        Parent = btnFrame,
        ApplyStrokeMode = Enum.ApplyStrokeMode.Border,
        Color = colors.accent,
        Thickness = config.borderThickness,
        Transparency = 0.8
    })
    
    local gameIcon = Create("ImageLabel")({
        Name = "Icon",
        Parent = btnFrame,
        BackgroundTransparency = 1,
        Position = UDim2.new(0, 10, 0.5, -15),
        Size = UDim2.new(0, 30, 0, 30),
        Image = "rbxassetid://7743878966", -- Game controller icon
        ImageColor3 = colors.accent
    })
    
    local gameTitle = Create("TextLabel")({
        Name = "Title",
        Parent = btnFrame,
        BackgroundTransparency = 1,
        Position = UDim2.new(0, 50, 0, 10),
        Size = UDim2.new(1, -160, 0, 20),
        Font = Enum.Font.GothamBold,
        Text = name,
        TextColor3 = colors.text,
        TextSize = 14,
        TextXAlignment = Enum.TextXAlignment.Left
    })
    
    local gameDesc = Create("TextLabel")({
        Name = "Description",
        Parent = btnFrame,
        BackgroundTransparency = 1,
        Position = UDim2.new(0, 50, 0, 35),
        Size = UDim2.new(1, -160, 0, 30),
        Font = Enum.Font.Gotham,
        Text = description or "Script for " .. gameName,
        TextColor3 = colors.textDim,
        TextSize = 12,
        TextWrapped = true,
        TextXAlignment = Enum.TextXAlignment.Left
    })
    
    local executeBtn = CreateButton(
        btnFrame,
        "EXECUTE",
        function()
            pcall(function()
                loadstring(game:HttpGet(scriptUrl, true))()
            end)
            
            Notify(gameName, "Script loaded successfully!", 3, "success")
        end,
        true,
        UDim2.new(1, -110, 0.5, -15),
        UDim2.new(0, 100, 0, 30)
    )
    
    -- Hover effect
    btnFrame.MouseEnter:Connect(function()
        TweenService:Create(btnStroke, TweenInfo.new(0.3), {
            Transparency = 0.5
        }):Play()
        
        TweenService:Create(gameTitle, TweenInfo.new(0.3), {
            Position = UDim2.new(0, 55, 0, 10)
        }):Play()
    end)
    
    btnFrame.MouseLeave:Connect(function()
        TweenService:Create(btnStroke, TweenInfo.new(0.3), {
            Transparency = 0.8
        }):Play()
        
        TweenService:Create(gameTitle, TweenInfo.new(0.3), {
            Position = UDim2.new(0, 50, 0, 10)
        }):Play()
    end)
    
    return btnFrame
end

-- Function to create a notification
local function Notify(title, message, duration, notifType)
    -- Set color based on notification type
    local notifColors = {
        success = colors.success,
        error = colors.error,
        warning = colors.warning,
        info = colors.secondaryAccent,
        default = colors.accent
    }
    
    local color = notifColors[notifType] or notifColors.default
    
    -- Create notification frame
    local notification = Create("Frame")({
        Name = "Notification",
        Parent = LAJHub,
        BackgroundColor3 = colors.backgroundDark,
        BorderSizePixel = 0,
        Position = UDim2.new(1, 10, 0.5, -40),
        Size = UDim2.new(0, 250, 0, 80),
        ZIndex = 100
    })
    
    local notifCorner = Create("UICorner")({
        Parent = notification,
        CornerRadius = UDim.new(0, config.cornerRadius)
    })
    
    local notifStroke = Create("UIStroke")({
        Parent = notification,
        ApplyStrokeMode = Enum.ApplyStrokeMode.Border,
        Color = color,
        Thickness = config.borderThickness,
        Transparency = 0.3
    })
    
    local notifTitle = Create("TextLabel")({
        Name = "Title",
        Parent = notification,
        BackgroundColor3 = color,
        BorderSizePixel = 0,
        Size = UDim2.new(1, 0, 0, 25),
        Font = Enum.Font.GothamBold,
        Text = "  " .. title,
        TextColor3 = colors.text,
        TextSize = 14,
        TextXAlignment = Enum.TextXAlignment.Left,
        ZIndex = 101
    })
    
    local titleCorner = Create("UICorner")({
        Parent = notifTitle,
        CornerRadius = UDim.new(0, config.cornerRadius)
    })
    
    -- Fix the bottom corners of the title
    local titleFix = Create("Frame")({
        Parent = notifTitle,
        BackgroundColor3 = color,
        BorderSizePixel = 0,
        Position = UDim2.new(0, 0, 0.5, 0),
        Size = UDim2.new(1, 0, 0.5, 0),
        ZIndex = 101
    })
    
    local notifMessage = Create("TextLabel")({
        Name = "Message",
        Parent = notification,
        BackgroundTransparency = 1,
        Position = UDim2.new(0, 10, 0, 30),
        Size = UDim2.new(1, -20, 0, 40),
        Font = Enum.Font.Gotham,
        Text = message,
        TextColor3 = colors.text,
        TextSize = 14,
        TextWrapped = true,
        ZIndex = 101
    })
    
    local progressBar = Create("Frame")({
        Name = "ProgressBar",
        Parent = notification,
        BackgroundColor3 = colors.backgroundLight,
        BorderSizePixel = 0,
        Position = UDim2.new(0, 10, 1, -10),
        Size = UDim2.new(1, -20, 0, 3),
        ZIndex = 101
    })
    
    local progressBarCorner = Create("UICorner")({
        Parent = progressBar,
        CornerRadius = UDim.new(1, 0)
    })
    
    local progressFill = Create("Frame")({
        Name = "Fill",
        Parent = progressBar,
        BackgroundColor3 = color,
        BorderSizePixel = 0,
        Size = UDim2.new(1, 0, 1, 0),
        ZIndex = 102
    })
    
    local fillCorner = Create("UICorner")({
        Parent = progressFill,
        CornerRadius = UDim.new(1, 0)
    })
    
    local notifGlow = Create("ImageLabel")({
        Name = "Glow",
        Parent = notification,
        BackgroundTransparency = 1,
        Position = UDim2.new(0, -10, 0, -10),
        Size = UDim2.new(1, 20, 1, 20),
        Image = "rbxassetid://5028857084", -- Glow texture
        ImageColor3 = color,
        ImageTransparency = 0.7,
        ZIndex = 99
    })
    
    -- Animate in
    notification:TweenPosition(UDim2.new(1, -270, 0.5, -40), "Out", "Back", 0.5, true)
    
    -- Animate progress bar
    TweenService:Create(progressFill, TweenInfo.new(duration or 3, Enum.EasingStyle.Linear), {
        Size = UDim2.new(0, 0, 1, 0)
    }):Play()
    
    -- Auto close
    delay(duration or 3, function()
        notification:TweenPosition(UDim2.new(1, 10, 0.5, -40), "In", "Back", 0.5, true, function()
            notification:Destroy()
        end)
    end)
    
    return notification
end

-- FILL THE UI WITH CONTENT

-- Create tab buttons
local homeBtn, homeIndicator = CreateTabButton(
    "Home", 
    "rbxassetid://7733960981", -- Home icon
    "Home", 
    1
)
homeIndicator.Visible = true
homeBtn.ImageColor3 = colors.text
homeBtn.BackgroundTransparency = 0.6

local gamesBtn, gamesIndicator = CreateTabButton(
    "Games", 
    "rbxassetid://7734042071", -- Game controller icon
    "Game Scripts", 
    2
)

local creditsBtn, creditsIndicator = CreateTabButton(
    "Credits", 
    "rbxassetid://7734110748", -- Info icon
    "Credits", 
    3
)

local settingsBtn, settingsIndicator = CreateTabButton(
    "Settings", 
    "rbxassetid://7734053495", -- Settings icon
    "Settings", 
    4
)

-- Add layouts to enforce proper spacing
local homePadding = Create("UIPadding")({
    Parent = HomeTab,
    PaddingTop = UDim.new(0, 20),
    PaddingBottom = UDim.new(0, 20)
})

local gamesPadding = Create("UIPadding")({
    Parent = GamesTab,
    PaddingTop = UDim.new(0, 20),
    PaddingBottom = UDim.new(0, 20)
})

local creditsPadding = Create("UIPadding")({
    Parent = CreditsTab,
    PaddingTop = UDim.new(0, 20),
    PaddingBottom = UDim.new(0, 20)
})

local settingsPadding = Create("UIPadding")({
    Parent = SettingsTab,
    PaddingTop = UDim.new(0, 20),
    PaddingBottom = UDim.new(0, 20)
})

-- HOME TAB CONTENT
local welcomeHeader = CreateSectionHeader(HomeTab, "Welcome", 1)

local welcomeCard, welcomeContent = CreateCard(HomeTab, "LAJ HUB Premium", "The premium script hub for Roblox games. Select a script from the Games tab to get started.", 2)
welcomeCard.Size = UDim2.new(1, -40, 0, 100)

-- Create a logo display for the welcome card
local logoDisplay = Create("ImageLabel")({
    Name = "LogoDisplay",
    Parent = welcomeContent,
    BackgroundTransparency = 1,
    Position = UDim2.new(0.5, -50, 0, 0),
    Size = UDim2.new(0, 100, 0, 100),
    Image = "rbxassetid://7743878358", -- Logo image
    ImageColor3 = colors.accent
})

-- Add glow to the logo
local logoGlow = Create("ImageLabel")({
    Name = "LogoGlow",
    Parent = logoDisplay,
    BackgroundTransparency = 1,
    Position = UDim2.new(0, -10, 0, -10),
    Size = UDim2.new(1, 20, 1, 20),
    Image = "rbxassetid://5028857084", -- Glow texture
    ImageColor3 = colors.accent,
    ImageTransparency = 0.6,
    ZIndex = -1
})

-- Add floating animation to logo
spawn(function()
    while logoDisplay and logoDisplay.Parent do
        TweenService:Create(logoDisplay, TweenInfo.new(2, Enum.EasingStyle.Sine, Enum.EasingDirection.InOut), {
            Position = UDim2.new(0.5, -50, 0, 5)
        }):Play()
        
        wait(2)
        
        if not logoDisplay or not logoDisplay.Parent then break end
        
        TweenService:Create(logoDisplay, TweenInfo.new(2, Enum.EasingStyle.Sine, Enum.EasingDirection.InOut), {
            Position = UDim2.new(0.5, -50, 0, -5)
        }):Play()
        
        wait(2)
    end
end)

-- Quick access section
local quickAccessHeader = CreateSectionHeader(HomeTab, "Quick Access", 3)

local quickAccessCard, quickContent = CreateCard(HomeTab, "Popular Scripts", nil, 4)
quickAccessCard.Size = UDim2.new(1, -40, 0, 100)

local bloxFruitsBtn = CreateButton(
    quickContent,
    "Blox Fruits",
    function()
        -- Execute Blox Fruits script
        pcall(function()
            loadstring(game:HttpGet("https://raw.githubusercontent.com/AhmadV99/Speed-Hub-X/main/Speed%20Hub%20X.lua", true))()
        end)
        
        Notify("Blox Fruits", "Script loaded successfully!", 3, "success")
    end,
    true,
    UDim2.new(0, 0, 0, 0),
    UDim2.new(0.48, 0, 0, 36)
)

local deadRailsBtn = CreateButton(
    quickContent,
    "Dead Rails",
    function()
        -- Execute Dead Rails script
        pcall(function()
            loadstring(game:HttpGet("https://raw.githubusercontent.com/AhmadV99/Speed-Hub-X/main/Speed%20Hub%20X.lua", true))()
        end)
        
        Notify("Dead Rails", "Script loaded successfully!", 3, "success")
    end,
    false,
    UDim2.new(0.52, 0, 0, 0),
    UDim2.new(0.48, 0, 0, 36)
)

local muscleLegendsBtn = CreateButton(
    quickContent,
    "Muscle Legends",
    function()
        -- Execute Muscle Legends script
        pcall(function()
            loadstring(game:HttpGet("https://raw.githubusercontent.com/AhmadV99/Speed-Hub-X/main/Speed%20Hub%20X.lua", true))()
        end)
        
        Notify("Muscle Legends", "Script loaded successfully!", 3, "success")
    end,
    true,
    UDim2.new(0, 0, 0, 45),
    UDim2.new(0.48, 0, 0, 36)
)

local animeVanguardsBtn = CreateButton(
    quickContent,
    "Anime Vanguards",
    function()
        -- Execute Anime Vanguards script
        pcall(function()
            loadstring(game:HttpGet("https://raw.githubusercontent.com/AhmadV99/Script-Games/main/Anime%20Vanguards.lua", true))()
        end)
        
        Notify("Anime Vanguards", "Script loaded successfully!", 3, "success")
    end,
    false,
    UDim2.new(0.52, 0, 0, 45),
    UDim2.new(0.48, 0, 0, 36)
)

-- Status section
local statusCard, statusContent = CreateCard(HomeTab, "Status", nil, 5)
statusCard.Size = UDim2.new(1, -40, 0, 70)

local statusIcon = Create("Frame")({
    Name = "StatusIcon",
    Parent = statusContent,
    BackgroundColor3 = colors.success,
    BorderSizePixel = 0,
    Position = UDim2.new(0, 0, 0, 5),
    Size = UDim2.new(0, 15, 0, 15)
})

local statusCorner = Create("UICorner")({
    Parent = statusIcon,
    CornerRadius = UDim.new(1, 0)
})

local statusText = Create("TextLabel")({
    Name = "StatusText",
    Parent = statusContent,
    BackgroundTransparency = 1,
    Position = UDim2.new(0, 25, 0, 0),
    Size = UDim2.new(1, -25, 0, 25),
    Font = Enum.Font.GothamBold,
    Text = "Ready to use",
    TextColor3 = colors.text,
    TextSize = 14,
    TextXAlignment = Enum.TextXAlignment.Left
})

local versionText = Create("TextLabel")({
    Name = "VersionText",
    Parent = statusContent,
    BackgroundTransparency = 1,
    Position = UDim2.new(0, 0, 0, 30),
    Size = UDim2.new(1, 0, 0, 20),
    Font = Enum.Font.Gotham,
    Text = "Version: 2.0 Premium",
    TextColor3 = colors.textDim,
    TextSize = 14,
    TextXAlignment = Enum.TextXAlignment.Left
})

-- Add pulse animation to status icon
spawn(function()
    while statusIcon and statusIcon.Parent do
        TweenService:Create(statusIcon, TweenInfo.new(1, Enum.EasingStyle.Sine, Enum.EasingDirection.InOut), {
            Size = UDim2.new(0, 12, 0, 12),
            Position = UDim2.new(0, 1.5, 0, 6.5)
        }):Play()
        
        wait(1)
        
        if not statusIcon or not statusIcon.Parent then break end
        
        TweenService:Create(statusIcon, TweenInfo.new(1, Enum.EasingStyle.Sine, Enum.EasingDirection.InOut), {
            Size = UDim2.new(0, 15, 0, 15),
            Position = UDim2.new(0, 0, 0, 5)
        }):Play()
        
        wait(1)
    end
end)

-- GAMES TAB CONTENT
local gamesHeader = CreateSectionHeader(GamesTab, "Game Scripts", 1)

-- Search bar
local searchCard, searchContent = CreateCard(GamesTab, "Search", nil, 2)
searchCard.Size = UDim2.new(1, -40, 0, 80)

local searchBar = Create("TextBox")({
    Name = "SearchBar",
    Parent = searchContent,
    BackgroundColor3 = colors.backgroundDark,
    BorderSizePixel = 0,
    ClearTextOnFocus = false,
    Position = UDim2.new(0, 0, 0, 0),
    Size = UDim2.new(1, 0, 0, 36),
    Font = Enum.Font.Gotham,
    PlaceholderText = "Search games...",
    Text = "",
    TextColor3 = colors.text,
    TextSize = 14
})

local searchCorner = Create("UICorner")({
    Parent = searchBar,
    CornerRadius = UDim.new(0, config.cornerRadius)
})

local searchIcon = Create("ImageLabel")({
    Name = "SearchIcon",
    Parent = searchBar,
    BackgroundTransparency = 1,
    Position = UDim2.new(0, 10, 0.5, -8),
    Size = UDim2.new(0, 16, 0, 16),
    Image = "rbxassetid://7022243779", -- Search icon
    ImageColor3 = colors.textDim
})

-- Add padding for the text
local searchPadding = Create("UIPadding")({
    Parent = searchBar,
    PaddingLeft = UDim.new(0, 36)
})

-- Game scripts section
local scriptsHeader = CreateSectionHeader(GamesTab, "Available Scripts", 3)

-- Game scripts data
local gameScripts = {
    {
        name = "Speed Hub X - Blox Fruits",
        description = "Auto-farm, ESP, teleports, and more for Blox Fruits",
        url = "https://raw.githubusercontent.com/AhmadV99/Speed-Hub-X/main/Speed%20Hub%20X.lua",
        game = "Blox Fruits"
    },
    {
        name = "Speed Hub X - Dead Rails",
        description = "Auto-farm, ESP, and more for Dead Rails",
        url = "https://raw.githubusercontent.com/AhmadV99/Speed-Hub-X/main/Speed%20Hub%20X.lua",
        game = "Dead Rails"
    },
    {
        name = "Speed Hub X - Muscle Legends",
        description = "Auto-farm strength, chest ESP, and more",
        url = "https://raw.githubusercontent.com/AhmadV99/Speed-Hub-X/main/Speed%20Hub%20X.lua",
        game = "Muscle Legends"
    },
    {
        name = "Speed Hub X - Fisch",
        description = "Teleports, auto-farm, and more for Fisch",
        url = "https://raw.githubusercontent.com/AhmadV99/Speed-Hub-X/main/Speed%20Hub%20X.lua",
        game = "Fisch"
    },
    {
        name = "Speed Hub X - The Strongest Battlegrounds",
        description = "Auto-farm, ESP, and more for The Strongest Battlegrounds",
        url = "https://raw.githubusercontent.com/AhmadV99/Speed-Hub-X/main/Speed%20Hub%20X.lua",
        game = "The Strongest Battlegrounds"
    },
    {
        name = "Speed Hub X - Arise Crossover",
        description = "Premium features for Arise Crossover",
        url = "https://raw.githubusercontent.com/AhmadV99/Speed-Hub-X/main/Speed%20Hub%20X.lua",
        game = "Arise Crossover"
    },
    {
        name = "Speed Hub X - Bubble Gum Simulator",
        description = "Auto-farm, auto-hatch, teleports and more",
        url = "https://raw.githubusercontent.com/AhmadV99/Speed-Hub-X/main/Speed%20Hub%20X.lua",
        game = "Bubble Gum Simulator"
    },
    {
        name = "Speed Hub X - Anime Reborn",
        description = "Auto-farm, ESP, and more for Anime Reborn",
        url = "https://raw.githubusercontent.com/AhmadV99/Script-Games/main/Anime%20Reborn.lua",
        game = "Anime Reborn"
    },
    {
        name = "Speed Hub X - Anime Vanguards",
        description = "Auto-farm, teleports, and more for Anime Vanguards",
        url = "https://raw.githubusercontent.com/AhmadV99/Script-Games/main/Anime%20Vanguards.lua",
        game = "Anime Vanguards"
    }
}

-- Create game buttons
for i, script in ipairs(gameScripts) do
    CreateGameButton(
        GamesTab,
        script.name,
        script.description,
        script.url,
        script.game,
        i + 3 -- Order starts after headers
    )
end

-- CREDITS TAB CONTENT
local creditsHeader = CreateSectionHeader(CreditsTab, "Credits", 1)

local developerCard, developerContent = CreateCard(CreditsTab, "Developer", "Information about the developer of LAJ HUB.", 2)
developerCard.Size = UDim2.new(1, -40, 0, 120)

local developerName = Create("TextLabel")({
    Name = "DeveloperName",
    Parent = developerContent,
    BackgroundTransparency = 1,
    Position = UDim2.new(0, 0, 0, 0),
    Size = UDim2.new(1, 0, 0, 25),
    Font = Enum.Font.GothamBold,
    Text = "LAJ HUB Team",
    TextColor3 = colors.text,
    TextSize = 16,
    TextXAlignment = Enum.TextXAlignment.Left
})

local developerText = Create("TextLabel")({
    Name = "DeveloperText",
    Parent = developerContent,
    BackgroundTransparency = 1,
    Position = UDim2.new(0, 0, 0, 30),
    Size = UDim2.new(1, 0, 0, 60),
    Font = Enum.Font.Gotham,
    Text = "Developers of premium script hubs for Roblox games. Providing quality exploits since 2023.",
    TextColor3 = colors.textDim,
    TextSize = 14,
    TextWrapped = true,
    TextXAlignment = Enum.TextXAlignment.Left
})

local discordCard, discordContent = CreateCard(CreditsTab, "Discord", "Join our Discord server for updates and support.", 3)
discordCard.Size = UDim2.new(1, -40, 0, 130)

local discordLink = Create("TextLabel")({
    Name = "DiscordLink",
    Parent = discordContent,
    BackgroundTransparency = 1,
    Position = UDim2.new(0, 0, 0, 0),
    Size = UDim2.new(1, 0, 0, 25),
    Font = Enum.Font.GothamBold,
    Text = "discord.gg/lajhub",
    TextColor3 = colors.accent,
    TextSize = 16,
    TextXAlignment = Enum.TextXAlignment.Left
})

local discordText = Create("TextLabel")({
    Name = "DiscordText",
    Parent = discordContent,
    BackgroundTransparency = 1,
    Position = UDim2.new(0, 0, 0, 30),
    Size = UDim2.new(1, 0, 0, 40),
    Font = Enum.Font.Gotham,
    Text = "Join our Discord server for script updates, support, and to connect with other users.",
    TextColor3 = colors.textDim,
    TextSize = 14,
    TextWrapped = true,
    TextXAlignment = Enum.TextXAlignment.Left
})

local copyDiscordBtn = CreateButton(
    discordContent,
    "Copy Discord Link",
    function()
        if setclipboard then
            setclipboard("discord.gg/lajhub")
            Notify("Discord", "Discord link copied to clipboard!", 3, "success")
        else
            Notify("Discord", "Copy to clipboard not supported", 3, "error")
        end
    end,
    true,
    UDim2.new(0, 0, 0, 80),
    UDim2.new(1, 0, 0, 36)
)

local specialThanksCard, thanksContent = CreateCard(CreditsTab, "Special Thanks", "Special thanks to those who contributed to LAJ HUB.", 4)
specialThanksCard.Size = UDim2.new(1, -40, 0, 120)

local thanksText = Create("TextLabel")({
    Name = "ThanksText",
    Parent = thanksContent,
    BackgroundTransparency = 1,
    Position = UDim2.new(0, 0, 0, 0),
    Size = UDim2.new(1, 0, 0, 80),
    Font = Enum.Font.Gotham,
    Text = "Thanks to all our script providers, testers, and the LAJ HUB community for your continued support and feedback.",
    TextColor3 = colors.textDim,
    TextSize = 14,
    TextWrapped = true,
    TextXAlignment = Enum.TextXAlignment.Left
})

local versionCard, versionContent = CreateCard(CreditsTab, "Version", "Current version information.", 5)
versionCard.Size = UDim2.new(1, -40, 0, 100)

local versionInfo = Create("TextLabel")({
    Name = "VersionInfo",
    Parent = versionContent,
    BackgroundTransparency = 1,
    Position = UDim2.new(0, 0, 0, 0),
    Size = UDim2.new(1, 0, 0, 25),
    Font = Enum.Font.GothamBold,
    Text = "LAJ HUB Premium v2.0",
    TextColor3 = colors.text,
    TextSize = 16,
    TextXAlignment = Enum.TextXAlignment.Left
})

local updateInfo = Create("TextLabel")({
    Name = "UpdateInfo",
    Parent = versionContent,
    BackgroundTransparency = 1,
    Position = UDim2.new(0, 0, 0, 30),
    Size = UDim2.new(1, 0, 0, 40),
    Font = Enum.Font.Gotham,
    Text = "Last Updated: April 2023\nCheck Discord for the latest updates and features.",
    TextColor3 = colors.textDim,
    TextSize = 14,
    TextXAlignment = Enum.TextXAlignment.Left
})

-- SETTINGS TAB CONTENT
local settingsHeader = CreateSectionHeader(SettingsTab, "Settings", 1)

local uiSettingsCard, uiContent = CreateCard(SettingsTab, "UI Settings", "Customize the user interface.", 2)
uiSettingsCard.Size = UDim2.new(1, -40, 0, 180)

-- Auto-Load toggle
local autoLoadToggle, autoLoadEnabled = CreateToggle(
    uiContent,
    "Auto-Load Scripts",
    "Automatically load scripts when a compatible game is detected.",
    true,
    function(enabled)
        -- Will be called when the toggle is changed
    end
)

-- Add padding between toggles
autoLoadToggle.Position = UDim2.new(0, 0, 0, 0)

-- UI Always On Top toggle
local topmostToggle, topmostEnabled = CreateToggle(
    uiContent,
    "UI Always On Top",
    "Keep the UI visible at all times, even when clicking elsewhere in the game.",
    true,
    function(enabled)
        -- Toggle DisplayOrder to keep UI on top
        LAJHub.DisplayOrder = enabled and 100 or 0
    end
)

topmostToggle.Position = UDim2.new(0, 0, 0, 65)

-- Reset button
local resetBtn = CreateButton(
    uiContent,
    "Reset All Settings",
    function()
        -- Reset toggles to default
        TweenService:Create(autoLoadToggle.ToggleButton, TweenInfo.new(0.3), {
            BackgroundColor3 = colors.accent
        }):Play()
        
        TweenService:Create(autoLoadToggle.ToggleButton.Circle, TweenInfo.new(0.3), {
            Position = UDim2.new(1, -18, 0.5, -8)
        }):Play()
        
        TweenService:Create(topmostToggle.ToggleButton, TweenInfo.new(0.3), {
            BackgroundColor3 = colors.accent
        }):Play()
        
        TweenService:Create(topmostToggle.ToggleButton.Circle, TweenInfo.new(0.3), {
            Position = UDim2.new(1, -18, 0.5, -8)
        }):Play()
        
        -- Keep UI on top
        LAJHub.DisplayOrder = 100
        
        Notify("Settings", "All settings have been reset to default values.", 3, "info")
    end,
    false,
    UDim2.new(0, 0, 0, 130),
    UDim2.new(1, 0, 0, 36)
)

local appearanceCard, appearanceContent = CreateCard(SettingsTab, "Appearance", "Change how the UI looks and feels.", 3)
appearanceCard.Size = UDim2.new(1, -40, 0, 190)

-- Theme options
local themeHeader = Create("TextLabel")({
    Name = "ThemeHeader",
    Parent = appearanceContent,
    BackgroundTransparency = 1,
    Position = UDim2.new(0, 0, 0, 0),
    Size = UDim2.new(1, 0, 0, 20),
    Font = Enum.Font.GothamBold,
    Text = "Theme:",
    TextColor3 = colors.text,
    TextSize = 14,
    TextXAlignment = Enum.TextXAlignment.Left
})

-- Theme buttons
local purpleBtn = CreateButton(
    appearanceContent,
    "Purple (Default)",
    function()
        -- Already using purple theme, no change needed
        Notify("Theme", "Purple theme applied", 3, "success")
    end,
    true,
    UDim2.new(0, 0, 0, 25),
    UDim2.new(0.48, 0, 0, 36)
)

local cyanBtn = CreateButton(
    appearanceContent,
    "Cyan",
    function()
        -- Change to cyan theme
        colors.accent = colors.secondaryAccent
        colors.accentLight = Color3.fromRGB(50, 230, 255)
        colors.accentDark = Color3.fromRGB(0, 190, 220)
        
        -- Update UI elements with new colors
        local accentElements = {OuterStroke, LogoGlow, TitleIcon, TitleLabel, LogoDisplay, 
                               homeIndicator, gamesIndicator, creditsIndicator, settingsIndicator}
        
        for _, element in ipairs(accentElements) do
            if element.Visible ~= false then -- Only update visible indicators
                TweenService:Create(element, TweenInfo.new(0.5), {
                    Color = colors.accent,
                    ImageColor3 = colors.accent,
                    TextColor3 = colors.accent,
                    BackgroundColor3 = colors.accent
                }):Play()
            end
        end
        
        Notify("Theme", "Cyan theme applied", 3, "success")
    end,
    false,
    UDim2.new(0.52, 0, 0, 25),
    UDim2.new(0.48, 0, 0, 36)
)

local pinkBtn = CreateButton(
    appearanceContent,
    "Pink",
    function()
        -- Change to pink theme
        colors.accent = colors.tertiaryAccent
        colors.accentLight = Color3.fromRGB(255, 100, 170)
        colors.accentDark = Color3.fromRGB(220, 50, 110)
        
        -- Update UI elements with new colors
        local accentElements = {OuterStroke, LogoGlow, TitleIcon, TitleLabel, LogoDisplay, 
                               homeIndicator, gamesIndicator, creditsIndicator, settingsIndicator}
        
        for _, element in ipairs(accentElements) do
            if element.Visible ~= false then -- Only update visible indicators
                TweenService:Create(element, TweenInfo.new(0.5), {
                    Color = colors.accent,
                    ImageColor3 = colors.accent,
                    TextColor3 = colors.accent,
                    BackgroundColor3 = colors.accent
                }):Play()
            end
        end
        
        Notify("Theme", "Pink theme applied", 3, "success")
    end,
    false,
    UDim2.new(0, 0, 0, 70),
    UDim2.new(0.48, 0, 0, 36)
)

local darkBtn = CreateButton(
    appearanceContent,
    "Dark Mode",
    function()
        -- Change to darker background
        local darkBackground = Color3.fromRGB(15, 10, 20)
        local darkBackgroundLight = Color3.fromRGB(25, 15, 30)
        
        -- Update UI elements with darker colors
        TweenService:Create(MainFrame, TweenInfo.new(0.5), {
            BackgroundColor3 = darkBackground
        }):Play()
        
        TweenService:Create(TopBar, TweenInfo.new(0.5), {
            BackgroundColor3 = darkBackground
        }):Play()
        
        TweenService:Create(SidePanel, TweenInfo.new(0.5), {
            BackgroundColor3 = darkBackground
        }):Play()
        
        Notify("Theme", "Dark mode applied", 3, "success")
    end,
    false,
    UDim2.new(0.52, 0, 0, 70),
    UDim2.new(0.48, 0, 0, 36)
)

-- Effects toggle
local effectsToggle, effectsEnabled = CreateToggle(
    appearanceContent,
    "UI Effects & Animations",
    "Enable visual effects and animations in the UI for a premium experience.",
    true,
    function(enabled)
        -- Toggle animations and effects
        if not enabled then
            -- Disable animations by making them instant
            config.animationSpeed = 0.01
            -- Hide particles
            if MainFrame:FindFirstChild("Particles") then
                MainFrame.Particles.Visible = false
            end
            -- Reduce glow
            GlowEffect.ImageTransparency = 0.95
        else
            -- Enable animations
            config.animationSpeed = 0.3
            -- Show particles
            if MainFrame:FindFirstChild("Particles") then
                MainFrame.Particles.Visible = true
            end
            -- Restore glow
            GlowEffect.ImageTransparency = 0.8
        end
    end
)

effectsToggle.Position = UDim2.new(0, 0, 0, 115)

local aboutCard, aboutContent = CreateCard(SettingsTab, "About", "Information about LAJ HUB Premium.", 4)
aboutCard.Size = UDim2.new(1, -40, 0, 120)

local aboutText = Create("TextLabel")({
    Name = "AboutText",
    Parent = aboutContent,
    BackgroundTransparency = 1,
    Position = UDim2.new(0, 0, 0, 0),
    Size = UDim2.new(1, 0, 0, 60),
    Font = Enum.Font.Gotham,
    Text = "LAJ HUB Premium v2.0\nDeveloped by LAJ HUB Team\n© 2023 All Rights Reserved",
    TextColor3 = colors.textDim,
    TextSize = 14,
    TextXAlignment = Enum.TextXAlignment.Left
})

local discordJoinBtn = CreateButton(
    aboutContent,
    "Join Discord",
    function()
        if setclipboard then
            setclipboard("discord.gg/lajhub")
            Notify("Discord", "Discord link copied to clipboard!", 3, "success")
        else
            Notify("Discord", "Copy to clipboard not supported", 3, "error")
        end
    end,
    true,
    UDim2.new(0, 0, 0, 70),
    UDim2.new(1, 0, 0, 36)
)

-- UI FUNCTIONALITY

-- Function to update canvas sizes
local function UpdateCanvasSizes()
    HomeTab.CanvasSize = UDim2.new(0, 0, 0, HomeLayout.AbsoluteContentSize.Y + 40)
    GamesTab.CanvasSize = UDim2.new(0, 0, 0, GamesLayout.AbsoluteContentSize.Y + 40)
    CreditsTab.CanvasSize = UDim2.new(0, 0, 0, CreditsLayout.AbsoluteContentSize.Y + 40)
    SettingsTab.CanvasSize = UDim2.new(0, 0, 0, SettingsLayout.AbsoluteContentSize.Y + 40)
end

-- Update canvas sizes when layouts change
HomeLayout:GetPropertyChangedSignal("AbsoluteContentSize"):Connect(UpdateCanvasSizes)
GamesLayout:GetPropertyChangedSignal("AbsoluteContentSize"):Connect(UpdateCanvasSizes)
CreditsLayout:GetPropertyChangedSignal("AbsoluteContentSize"):Connect(UpdateCanvasSizes)
SettingsLayout:GetPropertyChangedSignal("AbsoluteContentSize"):Connect(UpdateCanvasSizes)

-- Tab switching functionality
local tabs = {
    Home = {button = homeBtn, indicator = homeIndicator, content = HomeTab},
    Games = {button = gamesBtn, indicator = gamesIndicator, content = GamesTab},
    Credits = {button = creditsBtn, indicator = creditsIndicator, content = CreditsTab},
    Settings = {button = settingsBtn, indicator = settingsIndicator, content = SettingsTab}
}

local function SwitchTab(tabName)
    -- Hide all tabs and indicators
    for name, tab in pairs(tabs) do
        tab.content.Visible = false
        tab.indicator.Visible = false
        
        -- Reset button appearance
        if name ~= tabName then
            TweenService:Create(tab.button, TweenInfo.new(0.3), {
                BackgroundTransparency = 0.8,
                ImageColor3 = colors.textDim
            }):Play()
            
            local buttonGlow = tab.button:FindFirstChild("Glow")
            if buttonGlow then
                TweenService:Create(buttonGlow, TweenInfo.new(0.3), {
                    ImageTransparency = 1
                }):Play()
            end
        end
    end
    
    -- Show selected tab and indicator
    tabs[tabName].content.Visible = true
    tabs[tabName].indicator.Visible = true
    
    -- Highlight selected button
    TweenService:Create(tabs[tabName].button, TweenInfo.new(0.3), {
        BackgroundTransparency = 0.6,
        ImageColor3 = colors.text
    }):Play()
    
    local selectedGlow = tabs[tabName].button:FindFirstChild("Glow")
    if selectedGlow then
        TweenService:Create(selectedGlow, TweenInfo.new(0.3), {
            ImageTransparency = 0.7
        }):Play()
    end
    
    -- Update canvas sizes
    UpdateCanvasSizes()
}

-- Set up tab button click handlers
homeBtn.MouseButton1Click:Connect(function()
    SwitchTab("Home")
end)

gamesBtn.MouseButton1Click:Connect(function()
    SwitchTab("Games")
end)

creditsBtn.MouseButton1Click:Connect(function()
    SwitchTab("Credits")
end)

settingsBtn.MouseButton1Click:Connect(function()
    SwitchTab("Settings")
end)

-- Game search functionality
searchBar:GetPropertyChangedSignal("Text"):Connect(function()
    local searchText = string.lower(searchBar.Text)
    
    for _, child in pairs(GamesTab:GetChildren()) do
        if child:IsA("Frame") and child.Name:match("Button$") then
            local title = child:FindFirstChild("Title")
            local desc = child:FindFirstChild("Description")
            
            if title and desc then
                local titleText = string.lower(title.Text)
                local descText = string.lower(desc.Text)
                
                -- Show/hide based on search
                if searchText == "" or titleText:find(searchText) or descText:find(searchText) then
                    child.Visible = true
                else
                    child.Visible = false
                end
            end
        end
    end
    
    -- Update canvas size
    UpdateCanvasSizes()
end)

-- Minimize/maximize functionality
MinimizeButton.MouseButton1Click:Connect(function()
    -- Hide main frame
    TweenService:Create(MainFrame, TweenInfo.new(0.5, Enum.EasingStyle.Back, Enum.EasingDirection.In), {
        Size = UDim2.new(0, 0, 0, 0),
        Position = UDim2.new(0.5, 0, 0.5, 0)
    }):Play()
    
    -- Show minimized button
    wait(0.5)
    MainFrame.Visible = false
    MinimizedButton.Visible = true
    
    -- Animate minimized button appearing
    MinimizedButton.Position = UDim2.new(0, -150, 0, 20)
    TweenService:Create(MinimizedButton, TweenInfo.new(0.5, Enum.EasingStyle.Back, Enum.EasingDirection.Out), {
        Position = UDim2.new(0, 20, 0, 20)
    }):Play()
    
    -- Animate the glow
    TweenService:Create(MinimizedGlow, TweenInfo.new(0.5), {
        ImageTransparency = 0.5
    }):Play()
end)

-- Make Minimized button click restore UI
MinimizedButton.InputBegan:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseButton1 then
        -- Hide minimized button
        TweenService:Create(MinimizedButton, TweenInfo.new(0.3, Enum.EasingStyle.Quad, Enum.EasingDirection.In), {
            Position = UDim2.new(0, -150, 0, 20)
        }):Play()
        
        wait(0.3)
        MinimizedButton.Visible = false
        
        -- Show main frame with animation
        MainFrame.Visible = true
        MainFrame.Size = UDim2.new(0, 0, 0, 0)
        MainFrame.Position = UDim2.new(0.5, 0, 0.5, 0)
        
        TweenService:Create(MainFrame, TweenInfo.new(0.5, Enum.EasingStyle.Back, Enum.EasingDirection.Out), {
            Size = UDim2.new(0, config.mainFrameWidth, 0, config.mainFrameHeight),
            Position = UDim2.new(0.5, -config.mainFrameWidth/2, 0.5, -config.mainFrameHeight/2)
        }):Play()
    end
end)

-- Make minimized button draggable
local dragStart
local startPos
local dragging = false

MinimizedButton.InputBegan:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseButton1 then
        dragging = true
        dragStart = input.Position
        startPos = MinimizedButton.Position
    end
end)

MinimizedButton.InputEnded:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseButton1 then
        dragging = false
    end
end)

UserInputService.InputChanged:Connect(function(input)
    if dragging and input.UserInputType == Enum.UserInputType.MouseMovement then
        local delta = input.Position - dragStart
        MinimizedButton.Position = UDim2.new(
            startPos.X.Scale,
            startPos.X.Offset + delta.X,
            startPos.Y.Scale,
            startPos.Y.Offset + delta.Y
        )
    end
end)

-- Close button functionality
CloseButton.MouseButton1Click:Connect(function()
    -- Fade out animation
    TweenService:Create(MainFrame, TweenInfo.new(0.5, Enum.EasingStyle.Back, Enum.EasingDirection.In), {
        Size = UDim2.new(0, 0, 0, 0),
        Position = UDim2.new(0.5, 0, 0.5, 0)
    }):Play()
    
    wait(0.5)
    LAJHub:Destroy()
end)

-- Auto-detect game on load
local function AutoDetectGame()
    local gameId = game.PlaceId
    local gameName = string.lower(game.Name)
    
    for _, script in ipairs(gameScripts) do
        local lowerName = string.lower(script.game)
        if string.find(gameName, lowerName) then
            -- Update status
            statusText.Text = "Detected: " .. script.game
            
            -- Auto-load if enabled
            if autoLoadEnabled then
                -- Execute script with delay
                delay(1, function()
                    pcall(function()
                        loadstring(game:HttpGet(script.url, true))()
                    end)
                    
                    Notify(script.game, "Script loaded successfully!", 3, "success")
                end)
            else
                Notify("Game Detected", "Found compatible game: " .. script.game, 3, "info")
            end
            
            return true
        end
    end
    
    return false
}

-- Initialize UI
UpdateCanvasSizes()

-- Show welcome notification
Notify("LAJ HUB Premium", "Welcome to LAJ HUB Premium! UI will stay persistent even when clicking elsewhere.", 4, "info")

-- Try to auto-detect game
if not AutoDetectGame() then
    statusText.Text = "Ready to use"
end

-- Add pulsing animation to the glow effect
spawn(function()
    while GlowEffect and GlowEffect.Parent do
        TweenService:Create(GlowEffect, TweenInfo.new(3, Enum.EasingStyle.Sine, Enum.EasingDirection.InOut), {
            ImageTransparency = 0.7,
            Size = UDim2.new(1, 50, 1, 50)
        }):Play()
        
        wait(3)
        
        if not GlowEffect or not GlowEffect.Parent then break end
        
        TweenService:Create(GlowEffect, TweenInfo.new(3, Enum.EasingStyle.Sine, Enum.EasingDirection.InOut), {
            ImageTransparency = 0.8,
            Size = UDim2.new(1, 40, 1, 40)
        }):Play()
        
        wait(3)
    end
end)

return LAJHub
